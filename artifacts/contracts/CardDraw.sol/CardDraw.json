{
  "_format": "hh-sol-artifact-1",
  "contractName": "CardDraw",
  "sourceName": "contracts/CardDraw.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_drawVerifier",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "deckCommitment",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "drawCommitment",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "drawIndex",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "gameId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "playerCommitment",
          "type": "bytes32"
        }
      ],
      "name": "CardDrawn",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "gameId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "deckCommitment",
          "type": "bytes32"
        }
      ],
      "name": "DeckRegistered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "noteHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "encryptedNote",
          "type": "bytes"
        }
      ],
      "name": "NoteCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "noteHash",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "nullifier",
          "type": "bytes32"
        }
      ],
      "name": "NoteSpent",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256[2]",
          "name": "a",
          "type": "uint256[2]"
        },
        {
          "internalType": "uint256[2][2]",
          "name": "b",
          "type": "uint256[2][2]"
        },
        {
          "internalType": "uint256[2]",
          "name": "c",
          "type": "uint256[2]"
        },
        {
          "internalType": "bytes32",
          "name": "deckCommitment",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "drawCommitment",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "drawIndex",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "gameId",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "playerCommitment",
          "type": "bytes32"
        },
        {
          "internalType": "bytes",
          "name": "encryptedCardNote",
          "type": "bytes"
        }
      ],
      "name": "drawCard",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "drawVerifier",
      "outputs": [
        {
          "internalType": "contract ICardDrawVerifier",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "drawnCards",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "encryptedNotes",
      "outputs": [
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "noteHash",
          "type": "bytes32"
        }
      ],
      "name": "getNoteState",
      "outputs": [
        {
          "internalType": "enum NFTNoteBase.NoteState",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "nullifier",
          "type": "bytes32"
        }
      ],
      "name": "isNullifierUsed",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "notes",
      "outputs": [
        {
          "internalType": "enum NFTNoteBase.NoteState",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "nullifiers",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "deckCommitment",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "gameId",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "encryptedNote",
          "type": "bytes"
        }
      ],
      "name": "registerDeck",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "registeredDecks",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50604051610cfb380380610cfb83398101604081905261002f91610054565b600380546001600160a01b0319166001600160a01b0392909216919091179055610084565b60006020828403121561006657600080fd5b81516001600160a01b038116811461007d57600080fd5b9392505050565b610c68806100936000396000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c80632997e86b116100665780632997e86b1461018257806383091c37146101a557806385de26b7146101d5578063a2bf23cd146101f8578063d9377b4b1461020d57600080fd5b8063058d0c43146100a357806314107a94146100d657806315e124d3146100f6578063225ddfe71461012157806322dc7b4c1461015f575b600080fd5b6100c36100b13660046106f3565b60046020526000908152604090205481565b6040519081526020015b60405180910390f35b6100e96100e43660046106f3565b610220565b6040516100cd919061070c565b600354610109906001600160a01b031681565b6040516001600160a01b0390911681526020016100cd565b61014f61012f36600461075a565b600560209081526000928352604080842090915290825290205460ff1681565b60405190151581526020016100cd565b61014f61016d3660046106f3565b60009081526001602052604090205460ff1690565b61014f6101903660046106f3565b60016020526000908152604090205460ff1681565b6101c86101b33660046106f3565b60009081526020819052604090205460ff1690565b6040516100cd9190610792565b6101c86101e33660046106f3565b60006020819052908152604090205460ff1681565b61020b610206366004610886565b6102ba565b005b61020b61021b366004610926565b610383565b6002602052600090815260409020805461023990610a13565b80601f016020809104026020016040519081016040528092919081815260200182805461026590610a13565b80156102b25780601f10610287576101008083540402835291602001916102b2565b820191906000526020600020905b81548152906001019060200180831161029557829003601f168201915b505050505081565b600082815260046020526040902054156103295760405162461bcd60e51b815260206004820152602560248201527f4465636b20616c7265616479207265676973746572656420666f7220746869736044820152642067616d6560d81b60648201526084015b60405180910390fd5b60008281526004602052604090208390556103448382610625565b817facc901b8a2f1ca82ab2feb78792fd5e8c8710dd19714069957d6361fa01f1e798460405161037691815260200190565b60405180910390a2505050565b60008381526004602052604090205486146103ea5760405162461bcd60e51b815260206004820152602160248201527f4465636b206e6f74207265676973746572656420666f7220746869732067616d6044820152606560f81b6064820152608401610320565b600160008781526020819052604090205460ff16600281111561040f5761040f61077c565b146104525760405162461bcd60e51b8152602060048201526013602482015272111958dac81b9bdd19481b9bdd081d985b1a59606a1b6044820152606401610320565b600083815260056020908152604080832087845290915290205460ff16156104bc5760405162461bcd60e51b815260206004820181905260248201527f4361726420616c726561647920647261776e206174207468697320696e6465786044820152606401610320565b6040805160a08101825287815260208101879052808201869052606081018590526080810184905260035491516334baeab960e01b815290916001600160a01b0316906334baeab990610519908d908d908d908790600401610a76565b602060405180830381865afa158015610536573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061055a9190610afa565b6105a65760405162461bcd60e51b815260206004820152601760248201527f496e76616c6964206361726420647261772070726f6f660000000000000000006044820152606401610320565b60008481526005602090815260408083208884529091529020805460ff191660011790556105d48683610625565b6040805186815260208101869052908101849052869088907f25a227fd9a69f97eb467da34f1297902ecf2aa4a6cc393f18ea3ec42fee4ef169060600160405180910390a350505050505050505050565b60008281526020819052604081205460ff1660028111156106485761064861077c565b1461068b5760405162461bcd60e51b81526020600482015260136024820152724e6f746520616c72656164792065786973747360681b6044820152606401610320565b600082815260208181526040808320805460ff19166001179055600290915290206106b68282610b72565b50817f11d80dbc601487e7d7ccb4dd72ca753222f44df72d69e388df7c549cfebe3126826040516106e7919061070c565b60405180910390a25050565b60006020828403121561070557600080fd5b5035919050565b600060208083528351808285015260005b818110156107395785810183015185820160400152820161071d565b506000604082860101526040601f19601f8301168501019250505092915050565b6000806040838503121561076d57600080fd5b50508035926020909101359150565b634e487b7160e01b600052602160045260246000fd5b60208101600383106107b457634e487b7160e01b600052602160045260246000fd5b91905290565b634e487b7160e01b600052604160045260246000fd5b6040805190810167ffffffffffffffff811182821017156107f3576107f36107ba565b60405290565b600082601f83011261080a57600080fd5b813567ffffffffffffffff80821115610825576108256107ba565b604051601f8301601f19908116603f0116810190828211818310171561084d5761084d6107ba565b8160405283815286602085880101111561086657600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060006060848603121561089b57600080fd5b8335925060208401359150604084013567ffffffffffffffff8111156108c057600080fd5b6108cc868287016107f9565b9150509250925092565b600082601f8301126108e757600080fd5b6108ef6107d0565b80604084018581111561090157600080fd5b845b8181101561091b578035845260209384019301610903565b509095945050505050565b60008060008060008060008060006101c08a8c03121561094557600080fd5b61094f8b8b6108d6565b98508a605f8b011261096057600080fd5b6109686107d0565b8060c08c018d81111561097a57600080fd5b60408d015b818110156109a1576109918f826108d6565b845260209093019260400161097f565b50819a506109af8e826108d6565b99505050506101008a013595506101208a013594506101408a013593506101608a013592506101808a013591506101a08a013567ffffffffffffffff8111156109f757600080fd5b610a038c828d016107f9565b9150509295985092959850929598565b600181811c90821680610a2757607f821691505b602082108103610a4757634e487b7160e01b600052602260045260246000fd5b50919050565b8060005b6002811015610a70578151845260209384019390910190600101610a51565b50505050565b6101a08101610a858287610a4d565b60408083018660005b6002811015610ab557610aa2838351610a4d565b9183019160209190910190600101610a8e565b50505050610ac660c0830185610a4d565b61010082018360005b6005811015610aee578151835260209283019290910190600101610acf565b50505095945050505050565b600060208284031215610b0c57600080fd5b81518015158114610b1c57600080fd5b9392505050565b601f821115610b6d57600081815260208120601f850160051c81016020861015610b4a5750805b601f850160051c820191505b81811015610b6957828155600101610b56565b5050505b505050565b815167ffffffffffffffff811115610b8c57610b8c6107ba565b610ba081610b9a8454610a13565b84610b23565b602080601f831160018114610bd55760008415610bbd5750858301515b600019600386901b1c1916600185901b178555610b69565b600085815260208120601f198616915b82811015610c0457888601518255948401946001909101908401610be5565b5085821015610c225787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea26469706673582212207567e59faee16de04a845660a6999aecbfaaab230462112d8bd862b9865e351d64736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061009e5760003560e01c80632997e86b116100665780632997e86b1461018257806383091c37146101a557806385de26b7146101d5578063a2bf23cd146101f8578063d9377b4b1461020d57600080fd5b8063058d0c43146100a357806314107a94146100d657806315e124d3146100f6578063225ddfe71461012157806322dc7b4c1461015f575b600080fd5b6100c36100b13660046106f3565b60046020526000908152604090205481565b6040519081526020015b60405180910390f35b6100e96100e43660046106f3565b610220565b6040516100cd919061070c565b600354610109906001600160a01b031681565b6040516001600160a01b0390911681526020016100cd565b61014f61012f36600461075a565b600560209081526000928352604080842090915290825290205460ff1681565b60405190151581526020016100cd565b61014f61016d3660046106f3565b60009081526001602052604090205460ff1690565b61014f6101903660046106f3565b60016020526000908152604090205460ff1681565b6101c86101b33660046106f3565b60009081526020819052604090205460ff1690565b6040516100cd9190610792565b6101c86101e33660046106f3565b60006020819052908152604090205460ff1681565b61020b610206366004610886565b6102ba565b005b61020b61021b366004610926565b610383565b6002602052600090815260409020805461023990610a13565b80601f016020809104026020016040519081016040528092919081815260200182805461026590610a13565b80156102b25780601f10610287576101008083540402835291602001916102b2565b820191906000526020600020905b81548152906001019060200180831161029557829003601f168201915b505050505081565b600082815260046020526040902054156103295760405162461bcd60e51b815260206004820152602560248201527f4465636b20616c7265616479207265676973746572656420666f7220746869736044820152642067616d6560d81b60648201526084015b60405180910390fd5b60008281526004602052604090208390556103448382610625565b817facc901b8a2f1ca82ab2feb78792fd5e8c8710dd19714069957d6361fa01f1e798460405161037691815260200190565b60405180910390a2505050565b60008381526004602052604090205486146103ea5760405162461bcd60e51b815260206004820152602160248201527f4465636b206e6f74207265676973746572656420666f7220746869732067616d6044820152606560f81b6064820152608401610320565b600160008781526020819052604090205460ff16600281111561040f5761040f61077c565b146104525760405162461bcd60e51b8152602060048201526013602482015272111958dac81b9bdd19481b9bdd081d985b1a59606a1b6044820152606401610320565b600083815260056020908152604080832087845290915290205460ff16156104bc5760405162461bcd60e51b815260206004820181905260248201527f4361726420616c726561647920647261776e206174207468697320696e6465786044820152606401610320565b6040805160a08101825287815260208101879052808201869052606081018590526080810184905260035491516334baeab960e01b815290916001600160a01b0316906334baeab990610519908d908d908d908790600401610a76565b602060405180830381865afa158015610536573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061055a9190610afa565b6105a65760405162461bcd60e51b815260206004820152601760248201527f496e76616c6964206361726420647261772070726f6f660000000000000000006044820152606401610320565b60008481526005602090815260408083208884529091529020805460ff191660011790556105d48683610625565b6040805186815260208101869052908101849052869088907f25a227fd9a69f97eb467da34f1297902ecf2aa4a6cc393f18ea3ec42fee4ef169060600160405180910390a350505050505050505050565b60008281526020819052604081205460ff1660028111156106485761064861077c565b1461068b5760405162461bcd60e51b81526020600482015260136024820152724e6f746520616c72656164792065786973747360681b6044820152606401610320565b600082815260208181526040808320805460ff19166001179055600290915290206106b68282610b72565b50817f11d80dbc601487e7d7ccb4dd72ca753222f44df72d69e388df7c549cfebe3126826040516106e7919061070c565b60405180910390a25050565b60006020828403121561070557600080fd5b5035919050565b600060208083528351808285015260005b818110156107395785810183015185820160400152820161071d565b506000604082860101526040601f19601f8301168501019250505092915050565b6000806040838503121561076d57600080fd5b50508035926020909101359150565b634e487b7160e01b600052602160045260246000fd5b60208101600383106107b457634e487b7160e01b600052602160045260246000fd5b91905290565b634e487b7160e01b600052604160045260246000fd5b6040805190810167ffffffffffffffff811182821017156107f3576107f36107ba565b60405290565b600082601f83011261080a57600080fd5b813567ffffffffffffffff80821115610825576108256107ba565b604051601f8301601f19908116603f0116810190828211818310171561084d5761084d6107ba565b8160405283815286602085880101111561086657600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060006060848603121561089b57600080fd5b8335925060208401359150604084013567ffffffffffffffff8111156108c057600080fd5b6108cc868287016107f9565b9150509250925092565b600082601f8301126108e757600080fd5b6108ef6107d0565b80604084018581111561090157600080fd5b845b8181101561091b578035845260209384019301610903565b509095945050505050565b60008060008060008060008060006101c08a8c03121561094557600080fd5b61094f8b8b6108d6565b98508a605f8b011261096057600080fd5b6109686107d0565b8060c08c018d81111561097a57600080fd5b60408d015b818110156109a1576109918f826108d6565b845260209093019260400161097f565b50819a506109af8e826108d6565b99505050506101008a013595506101208a013594506101408a013593506101608a013592506101808a013591506101a08a013567ffffffffffffffff8111156109f757600080fd5b610a038c828d016107f9565b9150509295985092959850929598565b600181811c90821680610a2757607f821691505b602082108103610a4757634e487b7160e01b600052602260045260246000fd5b50919050565b8060005b6002811015610a70578151845260209384019390910190600101610a51565b50505050565b6101a08101610a858287610a4d565b60408083018660005b6002811015610ab557610aa2838351610a4d565b9183019160209190910190600101610a8e565b50505050610ac660c0830185610a4d565b61010082018360005b6005811015610aee578151835260209283019290910190600101610acf565b50505095945050505050565b600060208284031215610b0c57600080fd5b81518015158114610b1c57600080fd5b9392505050565b601f821115610b6d57600081815260208120601f850160051c81016020861015610b4a5750805b601f850160051c820191505b81811015610b6957828155600101610b56565b5050505b505050565b815167ffffffffffffffff811115610b8c57610b8c6107ba565b610ba081610b9a8454610a13565b84610b23565b602080601f831160018114610bd55760008415610bbd5750858301515b600019600386901b1c1916600185901b178555610b69565b600085815260208120601f198616915b82811015610c0457888601518255948401946001909101908401610be5565b5085821015610c225787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea26469706673582212207567e59faee16de04a845660a6999aecbfaaab230462112d8bd862b9865e351d64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
