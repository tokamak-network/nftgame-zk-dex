{
  "_format": "hh-sol-artifact-1",
  "contractName": "LootBoxOpen",
  "sourceName": "contracts/LootBoxOpen.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_boxVerifier",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "boxCommitment",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "outcomeCommitment",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "nullifier",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "vrfOutput",
          "type": "uint256"
        }
      ],
      "name": "BoxOpened",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "boxId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "noteHash",
          "type": "bytes32"
        }
      ],
      "name": "BoxRegistered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "noteHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "encryptedNote",
          "type": "bytes"
        }
      ],
      "name": "NoteCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "noteHash",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "nullifier",
          "type": "bytes32"
        }
      ],
      "name": "NoteSpent",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "boxVerifier",
      "outputs": [
        {
          "internalType": "contract ILootBoxVerifier",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "encryptedNotes",
      "outputs": [
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "noteHash",
          "type": "bytes32"
        }
      ],
      "name": "getNoteState",
      "outputs": [
        {
          "internalType": "enum NFTNoteBase.NoteState",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "nullifier",
          "type": "bytes32"
        }
      ],
      "name": "isNullifierUsed",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "notes",
      "outputs": [
        {
          "internalType": "enum NFTNoteBase.NoteState",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "nullifiers",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256[2]",
          "name": "a",
          "type": "uint256[2]"
        },
        {
          "internalType": "uint256[2][2]",
          "name": "b",
          "type": "uint256[2][2]"
        },
        {
          "internalType": "uint256[2]",
          "name": "c",
          "type": "uint256[2]"
        },
        {
          "internalType": "bytes32",
          "name": "boxCommitment",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "outcomeCommitment",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "vrfOutput",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "boxId",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "nullifier",
          "type": "bytes32"
        },
        {
          "internalType": "bytes",
          "name": "encryptedNote",
          "type": "bytes"
        }
      ],
      "name": "openBox",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "noteHash",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "boxId",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "encryptedNote",
          "type": "bytes"
        }
      ],
      "name": "registerBox",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "registeredBoxes",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50604051610d2b380380610d2b83398101604081905261002f91610054565b600380546001600160a01b0319166001600160a01b0392909216919091179055610084565b60006020828403121561006657600080fd5b81516001600160a01b038116811461007d57600080fd5b9392505050565b610c98806100936000396000f3fe608060405234801561001057600080fd5b50600436106100935760003560e01c80633155003e116100665780633155003e14610142578063368ac9491461015757806383091c371461016a57806385de26b71461019a578063987631cf146101bd57600080fd5b806314107a941461009857806316d599da146100c157806322dc7b4c146100ec5780632997e86b1461011f575b600080fd5b6100ab6100a6366004610745565b6101e0565b6040516100b8919061075e565b60405180910390f35b6003546100d4906001600160a01b031681565b6040516001600160a01b0390911681526020016100b8565b61010f6100fa366004610745565b60009081526001602052604090205460ff1690565b60405190151581526020016100b8565b61010f61012d366004610745565b60016020526000908152604090205460ff1681565b610155610150366004610878565b61027a565b005b610155610165366004610918565b610339565b61018d610178366004610745565b60009081526020819052604090205460ff1690565b6040516100b89190610a1b565b61018d6101a8366004610745565b60006020819052908152604090205460ff1681565b61010f6101cb366004610745565b60046020526000908152604090205460ff1681565b600260205260009081526040902080546101f990610a43565b80601f016020809104026020016040519081016040528092919081815260200182805461022590610a43565b80156102725780601f1061024757610100808354040283529160200191610272565b820191906000526020600020905b81548152906001019060200180831161025557829003601f168201915b505050505081565b60008281526004602052604090205460ff16156102d75760405162461bcd60e51b8152602060048201526016602482015275109bde08185b1c9958591e481c9959da5cdd195c995960521b60448201526064015b60405180910390fd5b6000828152600460205260409020805460ff191660011790556102fa838261055b565b817f3d29ad57fc73dc07b9ccb2a0643dce94386a0c036debb3fd9629380f24d1549d8460405161032c91815260200190565b60405180910390a2505050565b85600160008281526020819052604090205460ff16600281111561035f5761035f610a05565b146103b85760405162461bcd60e51b8152602060048201526024808201527f4e6f746520646f6573206e6f74206578697374206f7220616c726561647920736044820152631c195b9d60e21b60648201526084016102ce565b600083815260016020526040902054839060ff16156104125760405162461bcd60e51b8152602060048201526016602482015275139d5b1b1a599a595c88185b1c9958591e481d5cd95960521b60448201526064016102ce565b6040805160a08101825289815260208101899052808201889052606081018790526080810186905260035491516334baeab960e01b815290916001600160a01b0316906334baeab99061046f908f908f908f908790600401610aa6565b602060405180830381865afa15801561048c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104b09190610b2a565b6104fc5760405162461bcd60e51b815260206004820152601960248201527f496e76616c696420626f78206f70656e696e672070726f6f660000000000000060448201526064016102ce565b6105068986610629565b610510888561055b565b604080518681526020810189905289918b917f38180a7ab5649602b72ad14b2b983f746cab7252c34493e50c4de8504f8ff18b910160405180910390a3505050505050505050505050565b60008281526020819052604081205460ff16600281111561057e5761057e610a05565b146105c15760405162461bcd60e51b81526020600482015260136024820152724e6f746520616c72656164792065786973747360681b60448201526064016102ce565b600082815260208181526040808320805460ff19166001179055600290915290206105ec8282610ba2565b50817f11d80dbc601487e7d7ccb4dd72ca753222f44df72d69e388df7c549cfebe31268260405161061d919061075e565b60405180910390a25050565b600160008381526020819052604090205460ff16600281111561064e5761064e610a05565b1461068c5760405162461bcd60e51b815260206004820152600e60248201526d139bdd19481b9bdd081d985b1a5960921b60448201526064016102ce565b60008181526001602052604090205460ff16156106e45760405162461bcd60e51b8152602060048201526016602482015275139d5b1b1a599a595c88185b1c9958591e481d5cd95960521b60448201526064016102ce565b600082815260208181526040808320805460ff19908116600217909155848452600192839052818420805490911690921790915551829184917f039fa62302b0f0fccb244fbd909ec86e1a28d4b765b936467c70873d3fcb14979190a35050565b60006020828403121561075757600080fd5b5035919050565b600060208083528351808285015260005b8181101561078b5785810183015185820160400152820161076f565b506000604082860101526040601f19601f8301168501019250505092915050565b634e487b7160e01b600052604160045260246000fd5b6040805190810167ffffffffffffffff811182821017156107e5576107e56107ac565b60405290565b600082601f8301126107fc57600080fd5b813567ffffffffffffffff80821115610817576108176107ac565b604051601f8301601f19908116603f0116810190828211818310171561083f5761083f6107ac565b8160405283815286602085880101111561085857600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060006060848603121561088d57600080fd5b8335925060208401359150604084013567ffffffffffffffff8111156108b257600080fd5b6108be868287016107eb565b9150509250925092565b600082601f8301126108d957600080fd5b6108e16107c2565b8060408401858111156108f357600080fd5b845b8181101561090d5780358452602093840193016108f5565b509095945050505050565b60008060008060008060008060006101c08a8c03121561093757600080fd5b6109418b8b6108c8565b98508a605f8b011261095257600080fd5b61095a6107c2565b8060c08c018d81111561096c57600080fd5b60408d015b81811015610993576109838f826108c8565b8452602090930192604001610971565b50819a506109a18e826108c8565b99505050506101008a013595506101208a013594506101408a013593506101608a013592506101808a013591506101a08a013567ffffffffffffffff8111156109e957600080fd5b6109f58c828d016107eb565b9150509295985092959850929598565b634e487b7160e01b600052602160045260246000fd5b6020810160038310610a3d57634e487b7160e01b600052602160045260246000fd5b91905290565b600181811c90821680610a5757607f821691505b602082108103610a7757634e487b7160e01b600052602260045260246000fd5b50919050565b8060005b6002811015610aa0578151845260209384019390910190600101610a81565b50505050565b6101a08101610ab58287610a7d565b60408083018660005b6002811015610ae557610ad2838351610a7d565b9183019160209190910190600101610abe565b50505050610af660c0830185610a7d565b61010082018360005b6005811015610b1e578151835260209283019290910190600101610aff565b50505095945050505050565b600060208284031215610b3c57600080fd5b81518015158114610b4c57600080fd5b9392505050565b601f821115610b9d57600081815260208120601f850160051c81016020861015610b7a5750805b601f850160051c820191505b81811015610b9957828155600101610b86565b5050505b505050565b815167ffffffffffffffff811115610bbc57610bbc6107ac565b610bd081610bca8454610a43565b84610b53565b602080601f831160018114610c055760008415610bed5750858301515b600019600386901b1c1916600185901b178555610b99565b600085815260208120601f198616915b82811015610c3457888601518255948401946001909101908401610c15565b5085821015610c525787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea264697066735822122097d0774ba0c1708cb8b56d4d585ba110bb5f3d5dc56d9f3b703df0ad51edbcde64736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100935760003560e01c80633155003e116100665780633155003e14610142578063368ac9491461015757806383091c371461016a57806385de26b71461019a578063987631cf146101bd57600080fd5b806314107a941461009857806316d599da146100c157806322dc7b4c146100ec5780632997e86b1461011f575b600080fd5b6100ab6100a6366004610745565b6101e0565b6040516100b8919061075e565b60405180910390f35b6003546100d4906001600160a01b031681565b6040516001600160a01b0390911681526020016100b8565b61010f6100fa366004610745565b60009081526001602052604090205460ff1690565b60405190151581526020016100b8565b61010f61012d366004610745565b60016020526000908152604090205460ff1681565b610155610150366004610878565b61027a565b005b610155610165366004610918565b610339565b61018d610178366004610745565b60009081526020819052604090205460ff1690565b6040516100b89190610a1b565b61018d6101a8366004610745565b60006020819052908152604090205460ff1681565b61010f6101cb366004610745565b60046020526000908152604090205460ff1681565b600260205260009081526040902080546101f990610a43565b80601f016020809104026020016040519081016040528092919081815260200182805461022590610a43565b80156102725780601f1061024757610100808354040283529160200191610272565b820191906000526020600020905b81548152906001019060200180831161025557829003601f168201915b505050505081565b60008281526004602052604090205460ff16156102d75760405162461bcd60e51b8152602060048201526016602482015275109bde08185b1c9958591e481c9959da5cdd195c995960521b60448201526064015b60405180910390fd5b6000828152600460205260409020805460ff191660011790556102fa838261055b565b817f3d29ad57fc73dc07b9ccb2a0643dce94386a0c036debb3fd9629380f24d1549d8460405161032c91815260200190565b60405180910390a2505050565b85600160008281526020819052604090205460ff16600281111561035f5761035f610a05565b146103b85760405162461bcd60e51b8152602060048201526024808201527f4e6f746520646f6573206e6f74206578697374206f7220616c726561647920736044820152631c195b9d60e21b60648201526084016102ce565b600083815260016020526040902054839060ff16156104125760405162461bcd60e51b8152602060048201526016602482015275139d5b1b1a599a595c88185b1c9958591e481d5cd95960521b60448201526064016102ce565b6040805160a08101825289815260208101899052808201889052606081018790526080810186905260035491516334baeab960e01b815290916001600160a01b0316906334baeab99061046f908f908f908f908790600401610aa6565b602060405180830381865afa15801561048c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104b09190610b2a565b6104fc5760405162461bcd60e51b815260206004820152601960248201527f496e76616c696420626f78206f70656e696e672070726f6f660000000000000060448201526064016102ce565b6105068986610629565b610510888561055b565b604080518681526020810189905289918b917f38180a7ab5649602b72ad14b2b983f746cab7252c34493e50c4de8504f8ff18b910160405180910390a3505050505050505050505050565b60008281526020819052604081205460ff16600281111561057e5761057e610a05565b146105c15760405162461bcd60e51b81526020600482015260136024820152724e6f746520616c72656164792065786973747360681b60448201526064016102ce565b600082815260208181526040808320805460ff19166001179055600290915290206105ec8282610ba2565b50817f11d80dbc601487e7d7ccb4dd72ca753222f44df72d69e388df7c549cfebe31268260405161061d919061075e565b60405180910390a25050565b600160008381526020819052604090205460ff16600281111561064e5761064e610a05565b1461068c5760405162461bcd60e51b815260206004820152600e60248201526d139bdd19481b9bdd081d985b1a5960921b60448201526064016102ce565b60008181526001602052604090205460ff16156106e45760405162461bcd60e51b8152602060048201526016602482015275139d5b1b1a599a595c88185b1c9958591e481d5cd95960521b60448201526064016102ce565b600082815260208181526040808320805460ff19908116600217909155848452600192839052818420805490911690921790915551829184917f039fa62302b0f0fccb244fbd909ec86e1a28d4b765b936467c70873d3fcb14979190a35050565b60006020828403121561075757600080fd5b5035919050565b600060208083528351808285015260005b8181101561078b5785810183015185820160400152820161076f565b506000604082860101526040601f19601f8301168501019250505092915050565b634e487b7160e01b600052604160045260246000fd5b6040805190810167ffffffffffffffff811182821017156107e5576107e56107ac565b60405290565b600082601f8301126107fc57600080fd5b813567ffffffffffffffff80821115610817576108176107ac565b604051601f8301601f19908116603f0116810190828211818310171561083f5761083f6107ac565b8160405283815286602085880101111561085857600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060006060848603121561088d57600080fd5b8335925060208401359150604084013567ffffffffffffffff8111156108b257600080fd5b6108be868287016107eb565b9150509250925092565b600082601f8301126108d957600080fd5b6108e16107c2565b8060408401858111156108f357600080fd5b845b8181101561090d5780358452602093840193016108f5565b509095945050505050565b60008060008060008060008060006101c08a8c03121561093757600080fd5b6109418b8b6108c8565b98508a605f8b011261095257600080fd5b61095a6107c2565b8060c08c018d81111561096c57600080fd5b60408d015b81811015610993576109838f826108c8565b8452602090930192604001610971565b50819a506109a18e826108c8565b99505050506101008a013595506101208a013594506101408a013593506101608a013592506101808a013591506101a08a013567ffffffffffffffff8111156109e957600080fd5b6109f58c828d016107eb565b9150509295985092959850929598565b634e487b7160e01b600052602160045260246000fd5b6020810160038310610a3d57634e487b7160e01b600052602160045260246000fd5b91905290565b600181811c90821680610a5757607f821691505b602082108103610a7757634e487b7160e01b600052602260045260246000fd5b50919050565b8060005b6002811015610aa0578151845260209384019390910190600101610a81565b50505050565b6101a08101610ab58287610a7d565b60408083018660005b6002811015610ae557610ad2838351610a7d565b9183019160209190910190600101610abe565b50505050610af660c0830185610a7d565b61010082018360005b6005811015610b1e578151835260209283019290910190600101610aff565b50505095945050505050565b600060208284031215610b3c57600080fd5b81518015158114610b4c57600080fd5b9392505050565b601f821115610b9d57600081815260208120601f850160051c81016020861015610b7a5750805b601f850160051c820191505b81811015610b9957828155600101610b86565b5050505b505050565b815167ffffffffffffffff811115610bbc57610bbc6107ac565b610bd081610bca8454610a43565b84610b53565b602080601f831160018114610c055760008415610bed5750858301515b600019600386901b1c1916600185901b178555610b99565b600085815260208120601f198616915b82811015610c3457888601518255948401946001909101908401610c15565b5085821015610c525787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea264697066735822122097d0774ba0c1708cb8b56d4d585ba110bb5f3d5dc56d9f3b703df0ad51edbcde64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
