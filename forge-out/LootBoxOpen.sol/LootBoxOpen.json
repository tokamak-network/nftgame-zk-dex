{"abi":[{"type":"constructor","inputs":[{"name":"_boxVerifier","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"boxVerifier","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract ILootBoxVerifier"}],"stateMutability":"view"},{"type":"function","name":"encryptedNotes","inputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bytes","internalType":"bytes"}],"stateMutability":"view"},{"type":"function","name":"getNoteState","inputs":[{"name":"noteHash","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"uint8","internalType":"enum NFTNoteBase.NoteState"}],"stateMutability":"view"},{"type":"function","name":"isNullifierUsed","inputs":[{"name":"nullifier","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"notes","inputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"uint8","internalType":"enum NFTNoteBase.NoteState"}],"stateMutability":"view"},{"type":"function","name":"nullifiers","inputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"openBox","inputs":[{"name":"a","type":"uint256[2]","internalType":"uint256[2]"},{"name":"b","type":"uint256[2][2]","internalType":"uint256[2][2]"},{"name":"c","type":"uint256[2]","internalType":"uint256[2]"},{"name":"boxCommitment","type":"bytes32","internalType":"bytes32"},{"name":"outcomeCommitment","type":"bytes32","internalType":"bytes32"},{"name":"vrfOutput","type":"uint256","internalType":"uint256"},{"name":"boxId","type":"uint256","internalType":"uint256"},{"name":"nullifier","type":"bytes32","internalType":"bytes32"},{"name":"encryptedNote","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"registerBox","inputs":[{"name":"noteHash","type":"bytes32","internalType":"bytes32"},{"name":"boxId","type":"uint256","internalType":"uint256"},{"name":"encryptedNote","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"registeredBoxes","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"event","name":"BoxOpened","inputs":[{"name":"boxCommitment","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"outcomeCommitment","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"nullifier","type":"bytes32","indexed":false,"internalType":"bytes32"},{"name":"vrfOutput","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"BoxRegistered","inputs":[{"name":"boxId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"noteHash","type":"bytes32","indexed":false,"internalType":"bytes32"}],"anonymous":false},{"type":"event","name":"NoteCreated","inputs":[{"name":"noteHash","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"encryptedNote","type":"bytes","indexed":false,"internalType":"bytes"}],"anonymous":false},{"type":"event","name":"NoteSpent","inputs":[{"name":"noteHash","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"nullifier","type":"bytes32","indexed":true,"internalType":"bytes32"}],"anonymous":false}],"bytecode":{"object":"0x608060405234801561001057600080fd5b50604051610d2b380380610d2b83398101604081905261002f91610054565b600380546001600160a01b0319166001600160a01b0392909216919091179055610084565b60006020828403121561006657600080fd5b81516001600160a01b038116811461007d57600080fd5b9392505050565b610c98806100936000396000f3fe608060405234801561001057600080fd5b50600436106100935760003560e01c80633155003e116100665780633155003e14610142578063368ac9491461015757806383091c371461016a57806385de26b71461019a578063987631cf146101bd57600080fd5b806314107a941461009857806316d599da146100c157806322dc7b4c146100ec5780632997e86b1461011f575b600080fd5b6100ab6100a6366004610745565b6101e0565b6040516100b8919061075e565b60405180910390f35b6003546100d4906001600160a01b031681565b6040516001600160a01b0390911681526020016100b8565b61010f6100fa366004610745565b60009081526001602052604090205460ff1690565b60405190151581526020016100b8565b61010f61012d366004610745565b60016020526000908152604090205460ff1681565b610155610150366004610878565b61027a565b005b610155610165366004610918565b610339565b61018d610178366004610745565b60009081526020819052604090205460ff1690565b6040516100b89190610a1b565b61018d6101a8366004610745565b60006020819052908152604090205460ff1681565b61010f6101cb366004610745565b60046020526000908152604090205460ff1681565b600260205260009081526040902080546101f990610a43565b80601f016020809104026020016040519081016040528092919081815260200182805461022590610a43565b80156102725780601f1061024757610100808354040283529160200191610272565b820191906000526020600020905b81548152906001019060200180831161025557829003601f168201915b505050505081565b60008281526004602052604090205460ff16156102d75760405162461bcd60e51b8152602060048201526016602482015275109bde08185b1c9958591e481c9959da5cdd195c995960521b60448201526064015b60405180910390fd5b6000828152600460205260409020805460ff191660011790556102fa838261055b565b817f3d29ad57fc73dc07b9ccb2a0643dce94386a0c036debb3fd9629380f24d1549d8460405161032c91815260200190565b60405180910390a2505050565b85600160008281526020819052604090205460ff16600281111561035f5761035f610a05565b146103b85760405162461bcd60e51b8152602060048201526024808201527f4e6f746520646f6573206e6f74206578697374206f7220616c726561647920736044820152631c195b9d60e21b60648201526084016102ce565b600083815260016020526040902054839060ff16156104125760405162461bcd60e51b8152602060048201526016602482015275139d5b1b1a599a595c88185b1c9958591e481d5cd95960521b60448201526064016102ce565b6040805160a08101825289815260208101899052808201889052606081018790526080810186905260035491516334baeab960e01b815290916001600160a01b0316906334baeab99061046f908f908f908f908790600401610aa6565b602060405180830381865afa15801561048c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104b09190610b2a565b6104fc5760405162461bcd60e51b815260206004820152601960248201527f496e76616c696420626f78206f70656e696e672070726f6f660000000000000060448201526064016102ce565b6105068986610629565b610510888561055b565b604080518681526020810189905289918b917f38180a7ab5649602b72ad14b2b983f746cab7252c34493e50c4de8504f8ff18b910160405180910390a3505050505050505050505050565b60008281526020819052604081205460ff16600281111561057e5761057e610a05565b146105c15760405162461bcd60e51b81526020600482015260136024820152724e6f746520616c72656164792065786973747360681b60448201526064016102ce565b600082815260208181526040808320805460ff19166001179055600290915290206105ec8282610ba2565b50817f11d80dbc601487e7d7ccb4dd72ca753222f44df72d69e388df7c549cfebe31268260405161061d919061075e565b60405180910390a25050565b600160008381526020819052604090205460ff16600281111561064e5761064e610a05565b1461068c5760405162461bcd60e51b815260206004820152600e60248201526d139bdd19481b9bdd081d985b1a5960921b60448201526064016102ce565b60008181526001602052604090205460ff16156106e45760405162461bcd60e51b8152602060048201526016602482015275139d5b1b1a599a595c88185b1c9958591e481d5cd95960521b60448201526064016102ce565b600082815260208181526040808320805460ff19908116600217909155848452600192839052818420805490911690921790915551829184917f039fa62302b0f0fccb244fbd909ec86e1a28d4b765b936467c70873d3fcb14979190a35050565b60006020828403121561075757600080fd5b5035919050565b600060208083528351808285015260005b8181101561078b5785810183015185820160400152820161076f565b506000604082860101526040601f19601f8301168501019250505092915050565b634e487b7160e01b600052604160045260246000fd5b6040805190810167ffffffffffffffff811182821017156107e5576107e56107ac565b60405290565b600082601f8301126107fc57600080fd5b813567ffffffffffffffff80821115610817576108176107ac565b604051601f8301601f19908116603f0116810190828211818310171561083f5761083f6107ac565b8160405283815286602085880101111561085857600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060006060848603121561088d57600080fd5b8335925060208401359150604084013567ffffffffffffffff8111156108b257600080fd5b6108be868287016107eb565b9150509250925092565b600082601f8301126108d957600080fd5b6108e16107c2565b8060408401858111156108f357600080fd5b845b8181101561090d5780358452602093840193016108f5565b509095945050505050565b60008060008060008060008060006101c08a8c03121561093757600080fd5b6109418b8b6108c8565b98508a605f8b011261095257600080fd5b61095a6107c2565b8060c08c018d81111561096c57600080fd5b60408d015b81811015610993576109838f826108c8565b8452602090930192604001610971565b50819a506109a18e826108c8565b99505050506101008a013595506101208a013594506101408a013593506101608a013592506101808a013591506101a08a013567ffffffffffffffff8111156109e957600080fd5b6109f58c828d016107eb565b9150509295985092959850929598565b634e487b7160e01b600052602160045260246000fd5b6020810160038310610a3d57634e487b7160e01b600052602160045260246000fd5b91905290565b600181811c90821680610a5757607f821691505b602082108103610a7757634e487b7160e01b600052602260045260246000fd5b50919050565b8060005b6002811015610aa0578151845260209384019390910190600101610a81565b50505050565b6101a08101610ab58287610a7d565b60408083018660005b6002811015610ae557610ad2838351610a7d565b9183019160209190910190600101610abe565b50505050610af660c0830185610a7d565b61010082018360005b6005811015610b1e578151835260209283019290910190600101610aff565b50505095945050505050565b600060208284031215610b3c57600080fd5b81518015158114610b4c57600080fd5b9392505050565b601f821115610b9d57600081815260208120601f850160051c81016020861015610b7a5750805b601f850160051c820191505b81811015610b9957828155600101610b86565b5050505b505050565b815167ffffffffffffffff811115610bbc57610bbc6107ac565b610bd081610bca8454610a43565b84610b53565b602080601f831160018114610c055760008415610bed5750858301515b600019600386901b1c1916600185901b178555610b99565b600085815260208120601f198616915b82811015610c3457888601518255948401946001909101908401610c15565b5085821015610c525787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea264697066735822122057281f19df8bfdb1036b775df1a62a72a389e0429eb969367eca644e4a99904564736f6c63430008140033","sourceMap":"451:1975:2:-:0;;;808:95;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;852:11;:44;;-1:-1:-1;;;;;;852:44:2;-1:-1:-1;;;;;852:44:2;;;;;;;;;;451:1975;;14:290:34;84:6;137:2;125:9;116:7;112:23;108:32;105:52;;;153:1;150;143:12;105:52;179:16;;-1:-1:-1;;;;;224:31:34;;214:42;;204:70;;270:1;267;260:12;204:70;293:5;14:290;-1:-1:-1;;;14:290:34:o;:::-;451:1975:2;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b50600436106100935760003560e01c80633155003e116100665780633155003e14610142578063368ac9491461015757806383091c371461016a57806385de26b71461019a578063987631cf146101bd57600080fd5b806314107a941461009857806316d599da146100c157806322dc7b4c146100ec5780632997e86b1461011f575b600080fd5b6100ab6100a6366004610745565b6101e0565b6040516100b8919061075e565b60405180910390f35b6003546100d4906001600160a01b031681565b6040516001600160a01b0390911681526020016100b8565b61010f6100fa366004610745565b60009081526001602052604090205460ff1690565b60405190151581526020016100b8565b61010f61012d366004610745565b60016020526000908152604090205460ff1681565b610155610150366004610878565b61027a565b005b610155610165366004610918565b610339565b61018d610178366004610745565b60009081526020819052604090205460ff1690565b6040516100b89190610a1b565b61018d6101a8366004610745565b60006020819052908152604090205460ff1681565b61010f6101cb366004610745565b60046020526000908152604090205460ff1681565b600260205260009081526040902080546101f990610a43565b80601f016020809104026020016040519081016040528092919081815260200182805461022590610a43565b80156102725780601f1061024757610100808354040283529160200191610272565b820191906000526020600020905b81548152906001019060200180831161025557829003601f168201915b505050505081565b60008281526004602052604090205460ff16156102d75760405162461bcd60e51b8152602060048201526016602482015275109bde08185b1c9958591e481c9959da5cdd195c995960521b60448201526064015b60405180910390fd5b6000828152600460205260409020805460ff191660011790556102fa838261055b565b817f3d29ad57fc73dc07b9ccb2a0643dce94386a0c036debb3fd9629380f24d1549d8460405161032c91815260200190565b60405180910390a2505050565b85600160008281526020819052604090205460ff16600281111561035f5761035f610a05565b146103b85760405162461bcd60e51b8152602060048201526024808201527f4e6f746520646f6573206e6f74206578697374206f7220616c726561647920736044820152631c195b9d60e21b60648201526084016102ce565b600083815260016020526040902054839060ff16156104125760405162461bcd60e51b8152602060048201526016602482015275139d5b1b1a599a595c88185b1c9958591e481d5cd95960521b60448201526064016102ce565b6040805160a08101825289815260208101899052808201889052606081018790526080810186905260035491516334baeab960e01b815290916001600160a01b0316906334baeab99061046f908f908f908f908790600401610aa6565b602060405180830381865afa15801561048c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104b09190610b2a565b6104fc5760405162461bcd60e51b815260206004820152601960248201527f496e76616c696420626f78206f70656e696e672070726f6f660000000000000060448201526064016102ce565b6105068986610629565b610510888561055b565b604080518681526020810189905289918b917f38180a7ab5649602b72ad14b2b983f746cab7252c34493e50c4de8504f8ff18b910160405180910390a3505050505050505050505050565b60008281526020819052604081205460ff16600281111561057e5761057e610a05565b146105c15760405162461bcd60e51b81526020600482015260136024820152724e6f746520616c72656164792065786973747360681b60448201526064016102ce565b600082815260208181526040808320805460ff19166001179055600290915290206105ec8282610ba2565b50817f11d80dbc601487e7d7ccb4dd72ca753222f44df72d69e388df7c549cfebe31268260405161061d919061075e565b60405180910390a25050565b600160008381526020819052604090205460ff16600281111561064e5761064e610a05565b1461068c5760405162461bcd60e51b815260206004820152600e60248201526d139bdd19481b9bdd081d985b1a5960921b60448201526064016102ce565b60008181526001602052604090205460ff16156106e45760405162461bcd60e51b8152602060048201526016602482015275139d5b1b1a599a595c88185b1c9958591e481d5cd95960521b60448201526064016102ce565b600082815260208181526040808320805460ff19908116600217909155848452600192839052818420805490911690921790915551829184917f039fa62302b0f0fccb244fbd909ec86e1a28d4b765b936467c70873d3fcb14979190a35050565b60006020828403121561075757600080fd5b5035919050565b600060208083528351808285015260005b8181101561078b5785810183015185820160400152820161076f565b506000604082860101526040601f19601f8301168501019250505092915050565b634e487b7160e01b600052604160045260246000fd5b6040805190810167ffffffffffffffff811182821017156107e5576107e56107ac565b60405290565b600082601f8301126107fc57600080fd5b813567ffffffffffffffff80821115610817576108176107ac565b604051601f8301601f19908116603f0116810190828211818310171561083f5761083f6107ac565b8160405283815286602085880101111561085857600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060006060848603121561088d57600080fd5b8335925060208401359150604084013567ffffffffffffffff8111156108b257600080fd5b6108be868287016107eb565b9150509250925092565b600082601f8301126108d957600080fd5b6108e16107c2565b8060408401858111156108f357600080fd5b845b8181101561090d5780358452602093840193016108f5565b509095945050505050565b60008060008060008060008060006101c08a8c03121561093757600080fd5b6109418b8b6108c8565b98508a605f8b011261095257600080fd5b61095a6107c2565b8060c08c018d81111561096c57600080fd5b60408d015b81811015610993576109838f826108c8565b8452602090930192604001610971565b50819a506109a18e826108c8565b99505050506101008a013595506101208a013594506101408a013593506101608a013592506101808a013591506101a08a013567ffffffffffffffff8111156109e957600080fd5b6109f58c828d016107eb565b9150509295985092959850929598565b634e487b7160e01b600052602160045260246000fd5b6020810160038310610a3d57634e487b7160e01b600052602160045260246000fd5b91905290565b600181811c90821680610a5757607f821691505b602082108103610a7757634e487b7160e01b600052602260045260246000fd5b50919050565b8060005b6002811015610aa0578151845260209384019390910190600101610a81565b50505050565b6101a08101610ab58287610a7d565b60408083018660005b6002811015610ae557610ad2838351610a7d565b9183019160209190910190600101610abe565b50505050610af660c0830185610a7d565b61010082018360005b6005811015610b1e578151835260209283019290910190600101610aff565b50505095945050505050565b600060208284031215610b3c57600080fd5b81518015158114610b4c57600080fd5b9392505050565b601f821115610b9d57600081815260208120601f850160051c81016020861015610b7a5750805b601f850160051c820191505b81811015610b9957828155600101610b86565b5050505b505050565b815167ffffffffffffffff811115610bbc57610bbc6107ac565b610bd081610bca8454610a43565b84610b53565b602080601f831160018114610c055760008415610bed5750858301515b600019600386901b1c1916600185901b178555610b99565b600085815260208120601f198616915b82811015610c3457888601518255948401946001909101908401610c15565b5085821015610c525787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea264697066735822122057281f19df8bfdb1036b775df1a62a72a389e0429eb969367eca644e4a99904564736f6c63430008140033","sourceMap":"451:1975:2:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;486:47:3;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;493:35:2;;;;;-1:-1:-1;;;;;493:35:2;;;;;;-1:-1:-1;;;;;939:32:34;;;921:51;;909:2;894:18;493:35:2;750:228:34;1749:118:3;;;;;;:::i;:::-;1816:4;1839:21;;;:10;:21;;;;;;;;;1749:118;;;;1148:14:34;;1141:22;1123:41;;1111:2;1096:18;1749:118:3;983:187:34;390:42:3;;;;;;:::i;:::-;;;;;;;;;;;;;;;;989:326:2;;;;;;:::i;:::-;;:::i;:::-;;1473:951;;;;;;:::i;:::-;;:::i;1630:113:3:-;;;;;;:::i;:::-;1693:9;1721:15;;;;;;;;;;;;;;1630:113;;;;;;;;:::i;316:42::-;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;562:47:2;;;;;;:::i;:::-;;;;;;;;;;;;;;;;486::3;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;989:326:2:-;1129:22;;;;:15;:22;;;;;;;;1128:23;1120:58;;;;-1:-1:-1;;;1120:58:2;;5880:2:34;1120:58:2;;;5862:21:34;5919:2;5899:18;;;5892:30;-1:-1:-1;;;5938:18:34;;;5931:52;6000:18;;1120:58:2;;;;;;;;;1188:22;;;;:15;:22;;;;;:29;;-1:-1:-1;;1188:29:2;1213:4;1188:29;;;1227:36;1239:8;1249:13;1227:11;:36::i;:::-;1292:5;1278:30;1299:8;1278:30;;;;6175:25:34;;6163:2;6148:18;;6029:177;1278:30:2;;;;;;;;989:326;;;:::o;1473:951::-;1785:13;760:15:3;741:5;:15;;;;;;;;;;;;;:34;;;;;;;;:::i;:::-;;733:83;;;;-1:-1:-1;;;733:83:3;;6413:2:34;733:83:3;;;6395:21:34;6452:2;6432:18;;;6425:30;6491:34;6471:18;;;6464:62;-1:-1:-1;;;6542:18:34;;;6535:34;6586:19;;733:83:3;6211:400:34;733:83:3;904:21:::1;::::0;;;:10:::1;:21;::::0;;;;;1817:9:2;;904:21:3::1;;903:22;895:57;;;::::0;-1:-1:-1;;;895:57:3;;6818:2:34;895:57:3::1;::::0;::::1;6800:21:34::0;6857:2;6837:18;;;6830:30;-1:-1:-1;;;6876:18:34;;;6869:52;6938:18;;895:57:3::1;6616:346:34::0;895:57:3::1;1865:193:2::2;::::0;;::::2;::::0;::::2;::::0;;;;;::::2;::::0;::::2;::::0;;;;;;;;;;;;;;;;;;;;;2090:11:::2;::::0;:46;;-1:-1:-1;;;2090:46:2;;1865:193;;-1:-1:-1;;;;;2090:11:2::2;::::0;:23:::2;::::0;:46:::2;::::0;2114:1;;2117;;2120;;1865:193;;2090:46:::2;;;:::i;:::-;;;;;;;;;;;;;;;;;;::::0;::::2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2069:118;;;::::0;-1:-1:-1;;;2069:118:2;;9018:2:34;2069:118:2::2;::::0;::::2;9000:21:34::0;9057:2;9037:18;;;9030:30;9096:27;9076:18;;;9069:55;9141:18;;2069:118:2::2;8816:349:34::0;2069:118:2::2;2245:36;2256:13;2271:9;2245:10;:36::i;:::-;2291:45;2303:17;2322:13;2291:11;:45::i;:::-;2352:65;::::0;;9344:25:34;;;9400:2;9385:18;;9378:34;;;2377:17:2;;2362:13;;2352:65:::2;::::0;9317:18:34;2352:65:2::2;;;;;;;1828:596;826:1:3::1;1473:951:2::0;;;;;;;;;;:::o;976:305:3:-;1089:17;1070:15;;;;;;;;;;;;;:36;;;;;;;;:::i;:::-;;1062:68;;;;-1:-1:-1;;;1062:68:3;;9625:2:34;1062:68:3;;;9607:21:34;9664:2;9644:18;;;9637:30;-1:-1:-1;;;9683:18:34;;;9676:49;9742:18;;1062:68:3;9423:343:34;1062:68:3;1140:5;:15;;;;;;;;;;;:33;;-1:-1:-1;;1140:33:3;1158:15;1140:33;;;1183:14;:24;;;;;:40;1210:13;1183:24;:40;:::i;:::-;;1250:8;1238:36;1260:13;1238:36;;;;;;:::i;:::-;;;;;;;;976:305;;:::o;1287:337::-;1390:15;1371:5;:15;;;;;;;;;;;;;:34;;;;;;;;:::i;:::-;;1363:61;;;;-1:-1:-1;;;1363:61:3;;12171:2:34;1363:61:3;;;12153:21:34;12210:2;12190:18;;;12183:30;-1:-1:-1;;;12229:18:34;;;12222:44;12283:18;;1363:61:3;11969:338:34;1363:61:3;1443:21;;;;:10;:21;;;;;;;;1442:22;1434:57;;;;-1:-1:-1;;;1434:57:3;;6818:2:34;1434:57:3;;;6800:21:34;6857:2;6837:18;;;6830:30;-1:-1:-1;;;6876:18:34;;;6869:52;6938:18;;1434:57:3;6616:346:34;1434:57:3;1501:5;:15;;;;;;;;;;;:33;;-1:-1:-1;;1501:33:3;;;1519:15;1501:33;;;;1544:21;;;1501:33;1544:21;;;;;;;:28;;;;;;;;;;;1587:30;1544:21;;1501:15;;1587:30;;1501:5;1587:30;1287:337;;:::o;14:180:34:-;73:6;126:2;114:9;105:7;101:23;97:32;94:52;;;142:1;139;132:12;94:52;-1:-1:-1;165:23:34;;14:180;-1:-1:-1;14:180:34:o;199:546::-;309:4;338:2;367;356:9;349:21;399:6;393:13;442:6;437:2;426:9;422:18;415:34;467:1;477:140;491:6;488:1;485:13;477:140;;;586:14;;;582:23;;576:30;552:17;;;571:2;548:26;541:66;506:10;;477:140;;;481:3;666:1;661:2;652:6;641:9;637:22;633:31;626:42;736:2;729;725:7;720:2;712:6;708:15;704:29;693:9;689:45;685:54;677:62;;;;199:546;;;;:::o;1175:127::-;1236:10;1231:3;1227:20;1224:1;1217:31;1267:4;1264:1;1257:15;1291:4;1288:1;1281:15;1307:246;1374:2;1368:9;;;1404:15;;1449:18;1434:34;;1470:22;;;1431:62;1428:88;;;1496:18;;:::i;:::-;1532:2;1525:22;1307:246;:::o;1558:718::-;1600:5;1653:3;1646:4;1638:6;1634:17;1630:27;1620:55;;1671:1;1668;1661:12;1620:55;1707:6;1694:20;1733:18;1770:2;1766;1763:10;1760:36;;;1776:18;;:::i;:::-;1851:2;1845:9;1819:2;1905:13;;-1:-1:-1;;1901:22:34;;;1925:2;1897:31;1893:40;1881:53;;;1949:18;;;1969:22;;;1946:46;1943:72;;;1995:18;;:::i;:::-;2035:10;2031:2;2024:22;2070:2;2062:6;2055:18;2116:3;2109:4;2104:2;2096:6;2092:15;2088:26;2085:35;2082:55;;;2133:1;2130;2123:12;2082:55;2197:2;2190:4;2182:6;2178:17;2171:4;2163:6;2159:17;2146:54;2244:1;2237:4;2232:2;2224:6;2220:15;2216:26;2209:37;2264:6;2255:15;;;;;;1558:718;;;;:::o;2281:456::-;2367:6;2375;2383;2436:2;2424:9;2415:7;2411:23;2407:32;2404:52;;;2452:1;2449;2442:12;2404:52;2488:9;2475:23;2465:33;;2545:2;2534:9;2530:18;2517:32;2507:42;;2600:2;2589:9;2585:18;2572:32;2627:18;2619:6;2616:30;2613:50;;;2659:1;2656;2649:12;2613:50;2682:49;2723:7;2714:6;2703:9;2699:22;2682:49;:::i;:::-;2672:59;;;2281:456;;;;;:::o;2742:479::-;2792:5;2845:3;2838:4;2830:6;2826:17;2822:27;2812:55;;2863:1;2860;2853:12;2812:55;2887:17;;:::i;:::-;2926:3;2964:2;2956:6;2952:15;2990:3;2982:6;2979:15;2976:35;;;3007:1;3004;2997:12;2976:35;3031:6;3046:146;3062:6;3057:3;3054:15;3046:146;;;3130:17;;3118:30;;3177:4;3168:14;;;;3079;3046:146;;;-1:-1:-1;3210:5:34;;2742:479;-1:-1:-1;;;;;2742:479:34:o;3226:1399::-;3458:6;3466;3474;3482;3490;3498;3506;3514;3522;3575:3;3563:9;3554:7;3550:23;3546:33;3543:53;;;3592:1;3589;3582:12;3543:53;3615:44;3651:7;3640:9;3615:44;:::i;:::-;3605:54;;3702:7;3697:2;3686:9;3682:18;3678:32;3668:60;;3724:1;3721;3714:12;3668:60;3748:17;;:::i;:::-;3787:3;3828;3817:9;3813:19;3855:7;3847:6;3844:19;3841:39;;;3876:1;3873;3866:12;3841:39;3915:2;3904:9;3900:18;3927:165;3943:6;3938:3;3935:15;3927:165;;;4009:38;4039:7;4034:3;4009:38;:::i;:::-;3997:51;;4077:4;4068:14;;;;3969:2;3960:12;3927:165;;;3931:3;4111:5;4101:15;;4135:41;4168:7;4160:6;4135:41;:::i;:::-;4125:51;;;;;4223:3;4212:9;4208:19;4195:33;4185:43;;4275:3;4264:9;4260:19;4247:33;4237:43;;4327:3;4316:9;4312:19;4299:33;4289:43;;4379:3;4368:9;4364:19;4351:33;4341:43;;4431:3;4420:9;4416:19;4403:33;4393:43;;4487:3;4476:9;4472:19;4459:33;4515:18;4507:6;4504:30;4501:50;;;4547:1;4544;4537:12;4501:50;4570:49;4611:7;4602:6;4591:9;4587:22;4570:49;:::i;:::-;4560:59;;;3226:1399;;;;;;;;;;;:::o;4630:127::-;4691:10;4686:3;4682:20;4679:1;4672:31;4722:4;4719:1;4712:15;4746:4;4743:1;4736:15;4762:341;4907:2;4892:18;;4940:1;4929:13;;4919:144;;4985:10;4980:3;4976:20;4973:1;4966:31;5020:4;5017:1;5010:15;5048:4;5045:1;5038:15;4919:144;5072:25;;;4762:341;:::o;5293:380::-;5372:1;5368:12;;;;5415;;;5436:61;;5490:4;5482:6;5478:17;5468:27;;5436:61;5543:2;5535:6;5532:14;5512:18;5509:38;5506:161;;5589:10;5584:3;5580:20;5577:1;5570:31;5624:4;5621:1;5614:15;5652:4;5649:1;5642:15;5506:161;;5293:380;;;:::o;6967:326::-;7060:5;7083:1;7093:194;7107:4;7104:1;7101:11;7093:194;;;7166:13;;7154:26;;7203:4;7227:12;;;;7262:15;;;;7127:1;7120:9;7093:194;;;7097:3;;6967:326;;:::o;7298:1231::-;7746:3;7731:19;;7759:43;7735:9;7784:6;7759:43;:::i;:::-;7821:2;7858;7847:9;7843:18;7903:6;7927:1;7937:187;7951:4;7948:1;7945:11;7937:187;;;7998:44;8038:3;8029:6;8023:13;7998:44;:::i;:::-;8062:12;;;;8109:4;8097:17;;;;;7971:1;7964:9;7937:187;;;7941:3;;;;8133:53;8181:3;8170:9;8166:19;8158:6;8133:53;:::i;:::-;8223:3;8212:9;8208:19;8275:6;8301:1;8311:212;8327:4;8322:3;8319:13;8311:212;;;8392:15;;8378:30;;8431:4;8457:14;;;;8496:17;;;;8351:1;8342:11;8311:212;;;8315:3;;;7298:1231;;;;;;;:::o;8534:277::-;8601:6;8654:2;8642:9;8633:7;8629:23;8625:32;8622:52;;;8670:1;8667;8660:12;8622:52;8702:9;8696:16;8755:5;8748:13;8741:21;8734:5;8731:32;8721:60;;8777:1;8774;8767:12;8721:60;8800:5;8534:277;-1:-1:-1;;;8534:277:34:o;9896:544::-;9997:2;9992:3;9989:11;9986:448;;;10033:1;10058:5;10054:2;10047:17;10103:4;10099:2;10089:19;10173:2;10161:10;10157:19;10154:1;10150:27;10144:4;10140:38;10209:4;10197:10;10194:20;10191:47;;;-1:-1:-1;10232:4:34;10191:47;10287:2;10282:3;10278:12;10275:1;10271:20;10265:4;10261:31;10251:41;;10342:82;10360:2;10353:5;10350:13;10342:82;;;10405:17;;;10386:1;10375:13;10342:82;;;10346:3;;;9986:448;9896:544;;;:::o;10616:1348::-;10740:3;10734:10;10767:18;10759:6;10756:30;10753:56;;;10789:18;;:::i;:::-;10818:96;10907:6;10867:38;10899:4;10893:11;10867:38;:::i;:::-;10861:4;10818:96;:::i;:::-;10969:4;;11033:2;11022:14;;11050:1;11045:662;;;;11751:1;11768:6;11765:89;;;-1:-1:-1;11820:19:34;;;11814:26;11765:89;-1:-1:-1;;10573:1:34;10569:11;;;10565:24;10561:29;10551:40;10597:1;10593:11;;;10548:57;11867:81;;11015:943;;11045:662;9843:1;9836:14;;;9880:4;9867:18;;-1:-1:-1;;11081:20:34;;;11198:236;11212:7;11209:1;11206:14;11198:236;;;11301:19;;;11295:26;11280:42;;11393:27;;;;11361:1;11349:14;;;;11228:19;;11198:236;;;11202:3;11462:6;11453:7;11450:19;11447:201;;;11523:19;;;11517:26;-1:-1:-1;;11606:1:34;11602:14;;;11618:3;11598:24;11594:37;11590:42;11575:58;11560:74;;11447:201;-1:-1:-1;;;;;11694:1:34;11678:14;;;11674:22;11661:36;;-1:-1:-1;10616:1348:34:o","linkReferences":{}},"methodIdentifiers":{"boxVerifier()":"16d599da","encryptedNotes(bytes32)":"14107a94","getNoteState(bytes32)":"83091c37","isNullifierUsed(bytes32)":"22dc7b4c","notes(bytes32)":"85de26b7","nullifiers(bytes32)":"2997e86b","openBox(uint256[2],uint256[2][2],uint256[2],bytes32,bytes32,uint256,uint256,bytes32,bytes)":"368ac949","registerBox(bytes32,uint256,bytes)":"3155003e","registeredBoxes(uint256)":"987631cf"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_boxVerifier\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"boxCommitment\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"outcomeCommitment\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"nullifier\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"vrfOutput\",\"type\":\"uint256\"}],\"name\":\"BoxOpened\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"boxId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"noteHash\",\"type\":\"bytes32\"}],\"name\":\"BoxRegistered\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"noteHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"encryptedNote\",\"type\":\"bytes\"}],\"name\":\"NoteCreated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"noteHash\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"nullifier\",\"type\":\"bytes32\"}],\"name\":\"NoteSpent\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"boxVerifier\",\"outputs\":[{\"internalType\":\"contract ILootBoxVerifier\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"encryptedNotes\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"noteHash\",\"type\":\"bytes32\"}],\"name\":\"getNoteState\",\"outputs\":[{\"internalType\":\"enum NFTNoteBase.NoteState\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"nullifier\",\"type\":\"bytes32\"}],\"name\":\"isNullifierUsed\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"notes\",\"outputs\":[{\"internalType\":\"enum NFTNoteBase.NoteState\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"nullifiers\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[2]\",\"name\":\"a\",\"type\":\"uint256[2]\"},{\"internalType\":\"uint256[2][2]\",\"name\":\"b\",\"type\":\"uint256[2][2]\"},{\"internalType\":\"uint256[2]\",\"name\":\"c\",\"type\":\"uint256[2]\"},{\"internalType\":\"bytes32\",\"name\":\"boxCommitment\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"outcomeCommitment\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"vrfOutput\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"boxId\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"nullifier\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"encryptedNote\",\"type\":\"bytes\"}],\"name\":\"openBox\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"noteHash\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"boxId\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"encryptedNote\",\"type\":\"bytes\"}],\"name\":\"registerBox\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"registeredBoxes\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"F4: Loot Box Open - Verifiable random loot box opening with provably      fair outcome generation using Poseidon-based VRF.      Box Note structure: Poseidon(pkX, pkY, boxId, boxType, boxSalt)      Outcome Note structure: Poseidon(pkX, pkY, itemId, itemRarity, itemSalt)\",\"kind\":\"dev\",\"methods\":{\"openBox(uint256[2],uint256[2][2],uint256[2],bytes32,bytes32,uint256,uint256,bytes32,bytes)\":{\"details\":\"Open a loot box using a ZK proof with Poseidon VRF randomness.      Spends the box note and creates an outcome note.\"},\"registerBox(bytes32,uint256,bytes)\":{\"details\":\"Register a sealed loot box into the private system.\"}},\"title\":\"LootBoxOpen\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/LootBoxOpen.sol\":\"LootBoxOpen\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"contracts/LootBoxOpen.sol\":{\"keccak256\":\"0x8760d67ce6be4f396755843eb45284b57b186f27f518e7f7242df47d5c6adc90\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3f5c94bc69fc6992adb9ee389f4f16915f261e52ef9266cd8ce0ad508c353fdb\",\"dweb:/ipfs/QmXQgrwwKRtZPfW2S4KQHtCpqY1TcYdKqgiUD11FBNLNKB\"]},\"contracts/NFTNoteBase.sol\":{\"keccak256\":\"0x07de848506797fef1da7cf343a6a82ff488a9a19faa74c973144177f6d8586ba\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://2294154d798b22d36155eeed4ad12fa6291de25261b1350583bbfdced829d963\",\"dweb:/ipfs/QmUD5rvHg1gX8MjoCQdTBcWJGSEZbThhGHSeB3db9UGtk7\"]},\"contracts/verifiers/IGroth16Verifier.sol\":{\"keccak256\":\"0x88cfe5f16ca77addc8b4a99925c5185c31ee96b45bf76a66485e0494ce194640\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0e2849076fc87a1579e398d85d3fa5e4e2a9167d37445fdb69380a613476f646\",\"dweb:/ipfs/QmTk76sazqQuMZqw18JXzURgWWtfwXAmiQSEtoeD6dopVA\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_boxVerifier","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"bytes32","name":"boxCommitment","type":"bytes32","indexed":true},{"internalType":"bytes32","name":"outcomeCommitment","type":"bytes32","indexed":true},{"internalType":"bytes32","name":"nullifier","type":"bytes32","indexed":false},{"internalType":"uint256","name":"vrfOutput","type":"uint256","indexed":false}],"type":"event","name":"BoxOpened","anonymous":false},{"inputs":[{"internalType":"uint256","name":"boxId","type":"uint256","indexed":true},{"internalType":"bytes32","name":"noteHash","type":"bytes32","indexed":false}],"type":"event","name":"BoxRegistered","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"noteHash","type":"bytes32","indexed":true},{"internalType":"bytes","name":"encryptedNote","type":"bytes","indexed":false}],"type":"event","name":"NoteCreated","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"noteHash","type":"bytes32","indexed":true},{"internalType":"bytes32","name":"nullifier","type":"bytes32","indexed":true}],"type":"event","name":"NoteSpent","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"boxVerifier","outputs":[{"internalType":"contract ILootBoxVerifier","name":"","type":"address"}]},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"encryptedNotes","outputs":[{"internalType":"bytes","name":"","type":"bytes"}]},{"inputs":[{"internalType":"bytes32","name":"noteHash","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getNoteState","outputs":[{"internalType":"enum NFTNoteBase.NoteState","name":"","type":"uint8"}]},{"inputs":[{"internalType":"bytes32","name":"nullifier","type":"bytes32"}],"stateMutability":"view","type":"function","name":"isNullifierUsed","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"notes","outputs":[{"internalType":"enum NFTNoteBase.NoteState","name":"","type":"uint8"}]},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"nullifiers","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"uint256[2]","name":"a","type":"uint256[2]"},{"internalType":"uint256[2][2]","name":"b","type":"uint256[2][2]"},{"internalType":"uint256[2]","name":"c","type":"uint256[2]"},{"internalType":"bytes32","name":"boxCommitment","type":"bytes32"},{"internalType":"bytes32","name":"outcomeCommitment","type":"bytes32"},{"internalType":"uint256","name":"vrfOutput","type":"uint256"},{"internalType":"uint256","name":"boxId","type":"uint256"},{"internalType":"bytes32","name":"nullifier","type":"bytes32"},{"internalType":"bytes","name":"encryptedNote","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"openBox"},{"inputs":[{"internalType":"bytes32","name":"noteHash","type":"bytes32"},{"internalType":"uint256","name":"boxId","type":"uint256"},{"internalType":"bytes","name":"encryptedNote","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"registerBox"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"registeredBoxes","outputs":[{"internalType":"bool","name":"","type":"bool"}]}],"devdoc":{"kind":"dev","methods":{"openBox(uint256[2],uint256[2][2],uint256[2],bytes32,bytes32,uint256,uint256,bytes32,bytes)":{"details":"Open a loot box using a ZK proof with Poseidon VRF randomness.      Spends the box note and creates an outcome note."},"registerBox(bytes32,uint256,bytes)":{"details":"Register a sealed loot box into the private system."}},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/LootBoxOpen.sol":"LootBoxOpen"},"evmVersion":"paris","libraries":{}},"sources":{"contracts/LootBoxOpen.sol":{"keccak256":"0x8760d67ce6be4f396755843eb45284b57b186f27f518e7f7242df47d5c6adc90","urls":["bzz-raw://3f5c94bc69fc6992adb9ee389f4f16915f261e52ef9266cd8ce0ad508c353fdb","dweb:/ipfs/QmXQgrwwKRtZPfW2S4KQHtCpqY1TcYdKqgiUD11FBNLNKB"],"license":"MIT"},"contracts/NFTNoteBase.sol":{"keccak256":"0x07de848506797fef1da7cf343a6a82ff488a9a19faa74c973144177f6d8586ba","urls":["bzz-raw://2294154d798b22d36155eeed4ad12fa6291de25261b1350583bbfdced829d963","dweb:/ipfs/QmUD5rvHg1gX8MjoCQdTBcWJGSEZbThhGHSeB3db9UGtk7"],"license":"MIT"},"contracts/verifiers/IGroth16Verifier.sol":{"keccak256":"0x88cfe5f16ca77addc8b4a99925c5185c31ee96b45bf76a66485e0494ce194640","urls":["bzz-raw://0e2849076fc87a1579e398d85d3fa5e4e2a9167d37445fdb69380a613476f646","dweb:/ipfs/QmTk76sazqQuMZqw18JXzURgWWtfwXAmiQSEtoeD6dopVA"],"license":"MIT"}},"version":1},"id":2}