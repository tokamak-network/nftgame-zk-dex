{"abi":[{"type":"constructor","inputs":[{"name":"_boxVerifier","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"boxVerifier","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract ILootBoxVerifier"}],"stateMutability":"view"},{"type":"function","name":"encryptedNotes","inputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bytes","internalType":"bytes"}],"stateMutability":"view"},{"type":"function","name":"getNoteState","inputs":[{"name":"noteHash","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"uint8","internalType":"enum NFTNoteBase.NoteState"}],"stateMutability":"view"},{"type":"function","name":"isNullifierUsed","inputs":[{"name":"nullifier","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"notes","inputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"uint8","internalType":"enum NFTNoteBase.NoteState"}],"stateMutability":"view"},{"type":"function","name":"nullifiers","inputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"openBox","inputs":[{"name":"a","type":"uint256[2]","internalType":"uint256[2]"},{"name":"b","type":"uint256[2][2]","internalType":"uint256[2][2]"},{"name":"c","type":"uint256[2]","internalType":"uint256[2]"},{"name":"boxCommitment","type":"bytes32","internalType":"bytes32"},{"name":"outcomeCommitment","type":"bytes32","internalType":"bytes32"},{"name":"vrfOutput","type":"uint256","internalType":"uint256"},{"name":"boxId","type":"uint256","internalType":"uint256"},{"name":"nullifier","type":"bytes32","internalType":"bytes32"},{"name":"encryptedNote","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"registerBox","inputs":[{"name":"noteHash","type":"bytes32","internalType":"bytes32"},{"name":"boxId","type":"uint256","internalType":"uint256"},{"name":"encryptedNote","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"registeredBoxes","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"event","name":"BoxOpened","inputs":[{"name":"boxCommitment","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"outcomeCommitment","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"nullifier","type":"bytes32","indexed":false,"internalType":"bytes32"},{"name":"vrfOutput","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"BoxRegistered","inputs":[{"name":"boxId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"noteHash","type":"bytes32","indexed":false,"internalType":"bytes32"}],"anonymous":false},{"type":"event","name":"NoteCreated","inputs":[{"name":"noteHash","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"encryptedNote","type":"bytes","indexed":false,"internalType":"bytes"}],"anonymous":false},{"type":"event","name":"NoteSpent","inputs":[{"name":"noteHash","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"nullifier","type":"bytes32","indexed":true,"internalType":"bytes32"}],"anonymous":false}],"bytecode":{"object":"0x608060405234801561001057600080fd5b50604051610d2b380380610d2b83398101604081905261002f91610054565b600380546001600160a01b0319166001600160a01b0392909216919091179055610084565b60006020828403121561006657600080fd5b81516001600160a01b038116811461007d57600080fd5b9392505050565b610c98806100936000396000f3fe608060405234801561001057600080fd5b50600436106100935760003560e01c80633155003e116100665780633155003e14610142578063368ac9491461015757806383091c371461016a57806385de26b71461019a578063987631cf146101bd57600080fd5b806314107a941461009857806316d599da146100c157806322dc7b4c146100ec5780632997e86b1461011f575b600080fd5b6100ab6100a6366004610745565b6101e0565b6040516100b8919061075e565b60405180910390f35b6003546100d4906001600160a01b031681565b6040516001600160a01b0390911681526020016100b8565b61010f6100fa366004610745565b60009081526001602052604090205460ff1690565b60405190151581526020016100b8565b61010f61012d366004610745565b60016020526000908152604090205460ff1681565b610155610150366004610878565b61027a565b005b610155610165366004610918565b610339565b61018d610178366004610745565b60009081526020819052604090205460ff1690565b6040516100b89190610a1b565b61018d6101a8366004610745565b60006020819052908152604090205460ff1681565b61010f6101cb366004610745565b60046020526000908152604090205460ff1681565b600260205260009081526040902080546101f990610a43565b80601f016020809104026020016040519081016040528092919081815260200182805461022590610a43565b80156102725780601f1061024757610100808354040283529160200191610272565b820191906000526020600020905b81548152906001019060200180831161025557829003601f168201915b505050505081565b60008281526004602052604090205460ff16156102d75760405162461bcd60e51b8152602060048201526016602482015275109bde08185b1c9958591e481c9959da5cdd195c995960521b60448201526064015b60405180910390fd5b6000828152600460205260409020805460ff191660011790556102fa838261055b565b817f3d29ad57fc73dc07b9ccb2a0643dce94386a0c036debb3fd9629380f24d1549d8460405161032c91815260200190565b60405180910390a2505050565b85600160008281526020819052604090205460ff16600281111561035f5761035f610a05565b146103b85760405162461bcd60e51b8152602060048201526024808201527f4e6f746520646f6573206e6f74206578697374206f7220616c726561647920736044820152631c195b9d60e21b60648201526084016102ce565b600083815260016020526040902054839060ff16156104125760405162461bcd60e51b8152602060048201526016602482015275139d5b1b1a599a595c88185b1c9958591e481d5cd95960521b60448201526064016102ce565b6040805160a08101825289815260208101899052808201889052606081018790526080810186905260035491516334baeab960e01b815290916001600160a01b0316906334baeab99061046f908f908f908f908790600401610aa6565b602060405180830381865afa15801561048c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104b09190610b2a565b6104fc5760405162461bcd60e51b815260206004820152601960248201527f496e76616c696420626f78206f70656e696e672070726f6f660000000000000060448201526064016102ce565b6105068986610629565b610510888561055b565b604080518681526020810189905289918b917f38180a7ab5649602b72ad14b2b983f746cab7252c34493e50c4de8504f8ff18b910160405180910390a3505050505050505050505050565b60008281526020819052604081205460ff16600281111561057e5761057e610a05565b146105c15760405162461bcd60e51b81526020600482015260136024820152724e6f746520616c72656164792065786973747360681b60448201526064016102ce565b600082815260208181526040808320805460ff19166001179055600290915290206105ec8282610ba2565b50817f11d80dbc601487e7d7ccb4dd72ca753222f44df72d69e388df7c549cfebe31268260405161061d919061075e565b60405180910390a25050565b600160008381526020819052604090205460ff16600281111561064e5761064e610a05565b1461068c5760405162461bcd60e51b815260206004820152600e60248201526d139bdd19481b9bdd081d985b1a5960921b60448201526064016102ce565b60008181526001602052604090205460ff16156106e45760405162461bcd60e51b8152602060048201526016602482015275139d5b1b1a599a595c88185b1c9958591e481d5cd95960521b60448201526064016102ce565b600082815260208181526040808320805460ff19908116600217909155848452600192839052818420805490911690921790915551829184917f039fa62302b0f0fccb244fbd909ec86e1a28d4b765b936467c70873d3fcb14979190a35050565b60006020828403121561075757600080fd5b5035919050565b600060208083528351808285015260005b8181101561078b5785810183015185820160400152820161076f565b506000604082860101526040601f19601f8301168501019250505092915050565b634e487b7160e01b600052604160045260246000fd5b6040805190810167ffffffffffffffff811182821017156107e5576107e56107ac565b60405290565b600082601f8301126107fc57600080fd5b813567ffffffffffffffff80821115610817576108176107ac565b604051601f8301601f19908116603f0116810190828211818310171561083f5761083f6107ac565b8160405283815286602085880101111561085857600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060006060848603121561088d57600080fd5b8335925060208401359150604084013567ffffffffffffffff8111156108b257600080fd5b6108be868287016107eb565b9150509250925092565b600082601f8301126108d957600080fd5b6108e16107c2565b8060408401858111156108f357600080fd5b845b8181101561090d5780358452602093840193016108f5565b509095945050505050565b60008060008060008060008060006101c08a8c03121561093757600080fd5b6109418b8b6108c8565b98508a605f8b011261095257600080fd5b61095a6107c2565b8060c08c018d81111561096c57600080fd5b60408d015b81811015610993576109838f826108c8565b8452602090930192604001610971565b50819a506109a18e826108c8565b99505050506101008a013595506101208a013594506101408a013593506101608a013592506101808a013591506101a08a013567ffffffffffffffff8111156109e957600080fd5b6109f58c828d016107eb565b9150509295985092959850929598565b634e487b7160e01b600052602160045260246000fd5b6020810160038310610a3d57634e487b7160e01b600052602160045260246000fd5b91905290565b600181811c90821680610a5757607f821691505b602082108103610a7757634e487b7160e01b600052602260045260246000fd5b50919050565b8060005b6002811015610aa0578151845260209384019390910190600101610a81565b50505050565b6101a08101610ab58287610a7d565b60408083018660005b6002811015610ae557610ad2838351610a7d565b9183019160209190910190600101610abe565b50505050610af660c0830185610a7d565b61010082018360005b6005811015610b1e578151835260209283019290910190600101610aff565b50505095945050505050565b600060208284031215610b3c57600080fd5b81518015158114610b4c57600080fd5b9392505050565b601f821115610b9d57600081815260208120601f850160051c81016020861015610b7a5750805b601f850160051c820191505b81811015610b9957828155600101610b86565b5050505b505050565b815167ffffffffffffffff811115610bbc57610bbc6107ac565b610bd081610bca8454610a43565b84610b53565b602080601f831160018114610c055760008415610bed5750858301515b600019600386901b1c1916600185901b178555610b99565b600085815260208120601f198616915b82811015610c3457888601518255948401946001909101908401610c15565b5085821015610c525787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea26469706673582212207f1f246035b7f935943f222d715f10151f4c9a91a463ac30d2b6c883acce3ad664736f6c63430008140033","sourceMap":"451:1975:1:-:0;;;808:95;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;852:11;:44;;-1:-1:-1;;;;;;852:44:1;-1:-1:-1;;;;;852:44:1;;;;;;;;;;451:1975;;14:290:33;84:6;137:2;125:9;116:7;112:23;108:32;105:52;;;153:1;150;143:12;105:52;179:16;;-1:-1:-1;;;;;224:31:33;;214:42;;204:70;;270:1;267;260:12;204:70;293:5;14:290;-1:-1:-1;;;14:290:33:o;:::-;451:1975:1;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b50600436106100935760003560e01c80633155003e116100665780633155003e14610142578063368ac9491461015757806383091c371461016a57806385de26b71461019a578063987631cf146101bd57600080fd5b806314107a941461009857806316d599da146100c157806322dc7b4c146100ec5780632997e86b1461011f575b600080fd5b6100ab6100a6366004610745565b6101e0565b6040516100b8919061075e565b60405180910390f35b6003546100d4906001600160a01b031681565b6040516001600160a01b0390911681526020016100b8565b61010f6100fa366004610745565b60009081526001602052604090205460ff1690565b60405190151581526020016100b8565b61010f61012d366004610745565b60016020526000908152604090205460ff1681565b610155610150366004610878565b61027a565b005b610155610165366004610918565b610339565b61018d610178366004610745565b60009081526020819052604090205460ff1690565b6040516100b89190610a1b565b61018d6101a8366004610745565b60006020819052908152604090205460ff1681565b61010f6101cb366004610745565b60046020526000908152604090205460ff1681565b600260205260009081526040902080546101f990610a43565b80601f016020809104026020016040519081016040528092919081815260200182805461022590610a43565b80156102725780601f1061024757610100808354040283529160200191610272565b820191906000526020600020905b81548152906001019060200180831161025557829003601f168201915b505050505081565b60008281526004602052604090205460ff16156102d75760405162461bcd60e51b8152602060048201526016602482015275109bde08185b1c9958591e481c9959da5cdd195c995960521b60448201526064015b60405180910390fd5b6000828152600460205260409020805460ff191660011790556102fa838261055b565b817f3d29ad57fc73dc07b9ccb2a0643dce94386a0c036debb3fd9629380f24d1549d8460405161032c91815260200190565b60405180910390a2505050565b85600160008281526020819052604090205460ff16600281111561035f5761035f610a05565b146103b85760405162461bcd60e51b8152602060048201526024808201527f4e6f746520646f6573206e6f74206578697374206f7220616c726561647920736044820152631c195b9d60e21b60648201526084016102ce565b600083815260016020526040902054839060ff16156104125760405162461bcd60e51b8152602060048201526016602482015275139d5b1b1a599a595c88185b1c9958591e481d5cd95960521b60448201526064016102ce565b6040805160a08101825289815260208101899052808201889052606081018790526080810186905260035491516334baeab960e01b815290916001600160a01b0316906334baeab99061046f908f908f908f908790600401610aa6565b602060405180830381865afa15801561048c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104b09190610b2a565b6104fc5760405162461bcd60e51b815260206004820152601960248201527f496e76616c696420626f78206f70656e696e672070726f6f660000000000000060448201526064016102ce565b6105068986610629565b610510888561055b565b604080518681526020810189905289918b917f38180a7ab5649602b72ad14b2b983f746cab7252c34493e50c4de8504f8ff18b910160405180910390a3505050505050505050505050565b60008281526020819052604081205460ff16600281111561057e5761057e610a05565b146105c15760405162461bcd60e51b81526020600482015260136024820152724e6f746520616c72656164792065786973747360681b60448201526064016102ce565b600082815260208181526040808320805460ff19166001179055600290915290206105ec8282610ba2565b50817f11d80dbc601487e7d7ccb4dd72ca753222f44df72d69e388df7c549cfebe31268260405161061d919061075e565b60405180910390a25050565b600160008381526020819052604090205460ff16600281111561064e5761064e610a05565b1461068c5760405162461bcd60e51b815260206004820152600e60248201526d139bdd19481b9bdd081d985b1a5960921b60448201526064016102ce565b60008181526001602052604090205460ff16156106e45760405162461bcd60e51b8152602060048201526016602482015275139d5b1b1a599a595c88185b1c9958591e481d5cd95960521b60448201526064016102ce565b600082815260208181526040808320805460ff19908116600217909155848452600192839052818420805490911690921790915551829184917f039fa62302b0f0fccb244fbd909ec86e1a28d4b765b936467c70873d3fcb14979190a35050565b60006020828403121561075757600080fd5b5035919050565b600060208083528351808285015260005b8181101561078b5785810183015185820160400152820161076f565b506000604082860101526040601f19601f8301168501019250505092915050565b634e487b7160e01b600052604160045260246000fd5b6040805190810167ffffffffffffffff811182821017156107e5576107e56107ac565b60405290565b600082601f8301126107fc57600080fd5b813567ffffffffffffffff80821115610817576108176107ac565b604051601f8301601f19908116603f0116810190828211818310171561083f5761083f6107ac565b8160405283815286602085880101111561085857600080fd5b836020870160208301376000602085830101528094505050505092915050565b60008060006060848603121561088d57600080fd5b8335925060208401359150604084013567ffffffffffffffff8111156108b257600080fd5b6108be868287016107eb565b9150509250925092565b600082601f8301126108d957600080fd5b6108e16107c2565b8060408401858111156108f357600080fd5b845b8181101561090d5780358452602093840193016108f5565b509095945050505050565b60008060008060008060008060006101c08a8c03121561093757600080fd5b6109418b8b6108c8565b98508a605f8b011261095257600080fd5b61095a6107c2565b8060c08c018d81111561096c57600080fd5b60408d015b81811015610993576109838f826108c8565b8452602090930192604001610971565b50819a506109a18e826108c8565b99505050506101008a013595506101208a013594506101408a013593506101608a013592506101808a013591506101a08a013567ffffffffffffffff8111156109e957600080fd5b6109f58c828d016107eb565b9150509295985092959850929598565b634e487b7160e01b600052602160045260246000fd5b6020810160038310610a3d57634e487b7160e01b600052602160045260246000fd5b91905290565b600181811c90821680610a5757607f821691505b602082108103610a7757634e487b7160e01b600052602260045260246000fd5b50919050565b8060005b6002811015610aa0578151845260209384019390910190600101610a81565b50505050565b6101a08101610ab58287610a7d565b60408083018660005b6002811015610ae557610ad2838351610a7d565b9183019160209190910190600101610abe565b50505050610af660c0830185610a7d565b61010082018360005b6005811015610b1e578151835260209283019290910190600101610aff565b50505095945050505050565b600060208284031215610b3c57600080fd5b81518015158114610b4c57600080fd5b9392505050565b601f821115610b9d57600081815260208120601f850160051c81016020861015610b7a5750805b601f850160051c820191505b81811015610b9957828155600101610b86565b5050505b505050565b815167ffffffffffffffff811115610bbc57610bbc6107ac565b610bd081610bca8454610a43565b84610b53565b602080601f831160018114610c055760008415610bed5750858301515b600019600386901b1c1916600185901b178555610b99565b600085815260208120601f198616915b82811015610c3457888601518255948401946001909101908401610c15565b5085821015610c525787850151600019600388901b60f8161c191681555b5050505050600190811b0190555056fea26469706673582212207f1f246035b7f935943f222d715f10151f4c9a91a463ac30d2b6c883acce3ad664736f6c63430008140033","sourceMap":"451:1975:1:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;486:47:2;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;493:35:1;;;;;-1:-1:-1;;;;;493:35:1;;;;;;-1:-1:-1;;;;;938:32:33;;;920:51;;908:2;893:18;493:35:1;750:227:33;1749:118:2;;;;;;:::i;:::-;1816:4;1839:21;;;:10;:21;;;;;;;;;1749:118;;;;1147:14:33;;1140:22;1122:41;;1110:2;1095:18;1749:118:2;982:187:33;390:42:2;;;;;;:::i;:::-;;;;;;;;;;;;;;;;989:326:1;;;;;;:::i;:::-;;:::i;:::-;;1473:951;;;;;;:::i;:::-;;:::i;1630:113:2:-;;;;;;:::i;:::-;1693:9;1721:15;;;;;;;;;;;;;;1630:113;;;;;;;;:::i;316:42::-;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;562:47:1;;;;;;:::i;:::-;;;;;;;;;;;;;;;;486::2;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;989:326:1:-;1129:22;;;;:15;:22;;;;;;;;1128:23;1120:58;;;;-1:-1:-1;;;1120:58:1;;5879:2:33;1120:58:1;;;5861:21:33;5918:2;5898:18;;;5891:30;-1:-1:-1;;;5937:18:33;;;5930:52;5999:18;;1120:58:1;;;;;;;;;1188:22;;;;:15;:22;;;;;:29;;-1:-1:-1;;1188:29:1;1213:4;1188:29;;;1227:36;1239:8;1249:13;1227:11;:36::i;:::-;1292:5;1278:30;1299:8;1278:30;;;;6174:25:33;;6162:2;6147:18;;6028:177;1278:30:1;;;;;;;;989:326;;;:::o;1473:951::-;1785:13;760:15:2;741:5;:15;;;;;;;;;;;;;:34;;;;;;;;:::i;:::-;;733:83;;;;-1:-1:-1;;;733:83:2;;6412:2:33;733:83:2;;;6394:21:33;6451:2;6431:18;;;6424:30;6490:34;6470:18;;;6463:62;-1:-1:-1;;;6541:18:33;;;6534:34;6585:19;;733:83:2;6210:400:33;733:83:2;904:21:::1;::::0;;;:10:::1;:21;::::0;;;;;1817:9:1;;904:21:2::1;;903:22;895:57;;;::::0;-1:-1:-1;;;895:57:2;;6817:2:33;895:57:2::1;::::0;::::1;6799:21:33::0;6856:2;6836:18;;;6829:30;-1:-1:-1;;;6875:18:33;;;6868:52;6937:18;;895:57:2::1;6615:346:33::0;895:57:2::1;1865:193:1::2;::::0;;::::2;::::0;::::2;::::0;;;;;::::2;::::0;::::2;::::0;;;;;;;;;;;;;;;;;;;;;2090:11:::2;::::0;:46;;-1:-1:-1;;;2090:46:1;;1865:193;;-1:-1:-1;;;;;2090:11:1::2;::::0;:23:::2;::::0;:46:::2;::::0;2114:1;;2117;;2120;;1865:193;;2090:46:::2;;;:::i;:::-;;;;;;;;;;;;;;;;;;::::0;::::2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2069:118;;;::::0;-1:-1:-1;;;2069:118:1;;9017:2:33;2069:118:1::2;::::0;::::2;8999:21:33::0;9056:2;9036:18;;;9029:30;9095:27;9075:18;;;9068:55;9140:18;;2069:118:1::2;8815:349:33::0;2069:118:1::2;2245:36;2256:13;2271:9;2245:10;:36::i;:::-;2291:45;2303:17;2322:13;2291:11;:45::i;:::-;2352:65;::::0;;9343:25:33;;;9399:2;9384:18;;9377:34;;;2377:17:1;;2362:13;;2352:65:::2;::::0;9316:18:33;2352:65:1::2;;;;;;;1828:596;826:1:2::1;1473:951:1::0;;;;;;;;;;:::o;976:305:2:-;1089:17;1070:15;;;;;;;;;;;;;:36;;;;;;;;:::i;:::-;;1062:68;;;;-1:-1:-1;;;1062:68:2;;9624:2:33;1062:68:2;;;9606:21:33;9663:2;9643:18;;;9636:30;-1:-1:-1;;;9682:18:33;;;9675:49;9741:18;;1062:68:2;9422:343:33;1062:68:2;1140:5;:15;;;;;;;;;;;:33;;-1:-1:-1;;1140:33:2;1158:15;1140:33;;;1183:14;:24;;;;;:40;1210:13;1183:24;:40;:::i;:::-;;1250:8;1238:36;1260:13;1238:36;;;;;;:::i;:::-;;;;;;;;976:305;;:::o;1287:337::-;1390:15;1371:5;:15;;;;;;;;;;;;;:34;;;;;;;;:::i;:::-;;1363:61;;;;-1:-1:-1;;;1363:61:2;;12170:2:33;1363:61:2;;;12152:21:33;12209:2;12189:18;;;12182:30;-1:-1:-1;;;12228:18:33;;;12221:44;12282:18;;1363:61:2;11968:338:33;1363:61:2;1443:21;;;;:10;:21;;;;;;;;1442:22;1434:57;;;;-1:-1:-1;;;1434:57:2;;6817:2:33;1434:57:2;;;6799:21:33;6856:2;6836:18;;;6829:30;-1:-1:-1;;;6875:18:33;;;6868:52;6937:18;;1434:57:2;6615:346:33;1434:57:2;1501:5;:15;;;;;;;;;;;:33;;-1:-1:-1;;1501:33:2;;;1519:15;1501:33;;;;1544:21;;;1501:33;1544:21;;;;;;;:28;;;;;;;;;;;1587:30;1544:21;;1501:15;;1587:30;;1501:5;1587:30;1287:337;;:::o;14:180:33:-;73:6;126:2;114:9;105:7;101:23;97:32;94:52;;;142:1;139;132:12;94:52;-1:-1:-1;165:23:33;;14:180;-1:-1:-1;14:180:33:o;199:546::-;309:4;338:2;367;356:9;349:21;399:6;393:13;442:6;437:2;426:9;422:18;415:34;467:1;477:140;491:6;488:1;485:13;477:140;;;586:14;;;582:23;;576:30;552:17;;;571:2;548:26;541:66;506:10;;477:140;;;481:3;666:1;661:2;652:6;641:9;637:22;633:31;626:42;736:2;729;725:7;720:2;712:6;708:15;704:29;693:9;689:45;685:54;677:62;;;;199:546;;;;:::o;1174:127::-;1235:10;1230:3;1226:20;1223:1;1216:31;1266:4;1263:1;1256:15;1290:4;1287:1;1280:15;1306:246;1373:2;1367:9;;;1403:15;;1448:18;1433:34;;1469:22;;;1430:62;1427:88;;;1495:18;;:::i;:::-;1531:2;1524:22;1306:246;:::o;1557:718::-;1599:5;1652:3;1645:4;1637:6;1633:17;1629:27;1619:55;;1670:1;1667;1660:12;1619:55;1706:6;1693:20;1732:18;1769:2;1765;1762:10;1759:36;;;1775:18;;:::i;:::-;1850:2;1844:9;1818:2;1904:13;;-1:-1:-1;;1900:22:33;;;1924:2;1896:31;1892:40;1880:53;;;1948:18;;;1968:22;;;1945:46;1942:72;;;1994:18;;:::i;:::-;2034:10;2030:2;2023:22;2069:2;2061:6;2054:18;2115:3;2108:4;2103:2;2095:6;2091:15;2087:26;2084:35;2081:55;;;2132:1;2129;2122:12;2081:55;2196:2;2189:4;2181:6;2177:17;2170:4;2162:6;2158:17;2145:54;2243:1;2236:4;2231:2;2223:6;2219:15;2215:26;2208:37;2263:6;2254:15;;;;;;1557:718;;;;:::o;2280:456::-;2366:6;2374;2382;2435:2;2423:9;2414:7;2410:23;2406:32;2403:52;;;2451:1;2448;2441:12;2403:52;2487:9;2474:23;2464:33;;2544:2;2533:9;2529:18;2516:32;2506:42;;2599:2;2588:9;2584:18;2571:32;2626:18;2618:6;2615:30;2612:50;;;2658:1;2655;2648:12;2612:50;2681:49;2722:7;2713:6;2702:9;2698:22;2681:49;:::i;:::-;2671:59;;;2280:456;;;;;:::o;2741:479::-;2791:5;2844:3;2837:4;2829:6;2825:17;2821:27;2811:55;;2862:1;2859;2852:12;2811:55;2886:17;;:::i;:::-;2925:3;2963:2;2955:6;2951:15;2989:3;2981:6;2978:15;2975:35;;;3006:1;3003;2996:12;2975:35;3030:6;3045:146;3061:6;3056:3;3053:15;3045:146;;;3129:17;;3117:30;;3176:4;3167:14;;;;3078;3045:146;;;-1:-1:-1;3209:5:33;;2741:479;-1:-1:-1;;;;;2741:479:33:o;3225:1399::-;3457:6;3465;3473;3481;3489;3497;3505;3513;3521;3574:3;3562:9;3553:7;3549:23;3545:33;3542:53;;;3591:1;3588;3581:12;3542:53;3614:44;3650:7;3639:9;3614:44;:::i;:::-;3604:54;;3701:7;3696:2;3685:9;3681:18;3677:32;3667:60;;3723:1;3720;3713:12;3667:60;3747:17;;:::i;:::-;3786:3;3827;3816:9;3812:19;3854:7;3846:6;3843:19;3840:39;;;3875:1;3872;3865:12;3840:39;3914:2;3903:9;3899:18;3926:165;3942:6;3937:3;3934:15;3926:165;;;4008:38;4038:7;4033:3;4008:38;:::i;:::-;3996:51;;4076:4;4067:14;;;;3968:2;3959:12;3926:165;;;3930:3;4110:5;4100:15;;4134:41;4167:7;4159:6;4134:41;:::i;:::-;4124:51;;;;;4222:3;4211:9;4207:19;4194:33;4184:43;;4274:3;4263:9;4259:19;4246:33;4236:43;;4326:3;4315:9;4311:19;4298:33;4288:43;;4378:3;4367:9;4363:19;4350:33;4340:43;;4430:3;4419:9;4415:19;4402:33;4392:43;;4486:3;4475:9;4471:19;4458:33;4514:18;4506:6;4503:30;4500:50;;;4546:1;4543;4536:12;4500:50;4569:49;4610:7;4601:6;4590:9;4586:22;4569:49;:::i;:::-;4559:59;;;3225:1399;;;;;;;;;;;:::o;4629:127::-;4690:10;4685:3;4681:20;4678:1;4671:31;4721:4;4718:1;4711:15;4745:4;4742:1;4735:15;4761:341;4906:2;4891:18;;4939:1;4928:13;;4918:144;;4984:10;4979:3;4975:20;4972:1;4965:31;5019:4;5016:1;5009:15;5047:4;5044:1;5037:15;4918:144;5071:25;;;4761:341;:::o;5292:380::-;5371:1;5367:12;;;;5414;;;5435:61;;5489:4;5481:6;5477:17;5467:27;;5435:61;5542:2;5534:6;5531:14;5511:18;5508:38;5505:161;;5588:10;5583:3;5579:20;5576:1;5569:31;5623:4;5620:1;5613:15;5651:4;5648:1;5641:15;5505:161;;5292:380;;;:::o;6966:326::-;7059:5;7082:1;7092:194;7106:4;7103:1;7100:11;7092:194;;;7165:13;;7153:26;;7202:4;7226:12;;;;7261:15;;;;7126:1;7119:9;7092:194;;;7096:3;;6966:326;;:::o;7297:1231::-;7745:3;7730:19;;7758:43;7734:9;7783:6;7758:43;:::i;:::-;7820:2;7857;7846:9;7842:18;7902:6;7926:1;7936:187;7950:4;7947:1;7944:11;7936:187;;;7997:44;8037:3;8028:6;8022:13;7997:44;:::i;:::-;8061:12;;;;8108:4;8096:17;;;;;7970:1;7963:9;7936:187;;;7940:3;;;;8132:53;8180:3;8169:9;8165:19;8157:6;8132:53;:::i;:::-;8222:3;8211:9;8207:19;8274:6;8300:1;8310:212;8326:4;8321:3;8318:13;8310:212;;;8391:15;;8377:30;;8430:4;8456:14;;;;8495:17;;;;8350:1;8341:11;8310:212;;;8314:3;;;7297:1231;;;;;;;:::o;8533:277::-;8600:6;8653:2;8641:9;8632:7;8628:23;8624:32;8621:52;;;8669:1;8666;8659:12;8621:52;8701:9;8695:16;8754:5;8747:13;8740:21;8733:5;8730:32;8720:60;;8776:1;8773;8766:12;8720:60;8799:5;8533:277;-1:-1:-1;;;8533:277:33:o;9895:544::-;9996:2;9991:3;9988:11;9985:448;;;10032:1;10057:5;10053:2;10046:17;10102:4;10098:2;10088:19;10172:2;10160:10;10156:19;10153:1;10149:27;10143:4;10139:38;10208:4;10196:10;10193:20;10190:47;;;-1:-1:-1;10231:4:33;10190:47;10286:2;10281:3;10277:12;10274:1;10270:20;10264:4;10260:31;10250:41;;10341:82;10359:2;10352:5;10349:13;10341:82;;;10404:17;;;10385:1;10374:13;10341:82;;;10345:3;;;9985:448;9895:544;;;:::o;10615:1348::-;10739:3;10733:10;10766:18;10758:6;10755:30;10752:56;;;10788:18;;:::i;:::-;10817:96;10906:6;10866:38;10898:4;10892:11;10866:38;:::i;:::-;10860:4;10817:96;:::i;:::-;10968:4;;11032:2;11021:14;;11049:1;11044:662;;;;11750:1;11767:6;11764:89;;;-1:-1:-1;11819:19:33;;;11813:26;11764:89;-1:-1:-1;;10572:1:33;10568:11;;;10564:24;10560:29;10550:40;10596:1;10592:11;;;10547:57;11866:81;;11014:943;;11044:662;9842:1;9835:14;;;9879:4;9866:18;;-1:-1:-1;;11080:20:33;;;11197:236;11211:7;11208:1;11205:14;11197:236;;;11300:19;;;11294:26;11279:42;;11392:27;;;;11360:1;11348:14;;;;11227:19;;11197:236;;;11201:3;11461:6;11452:7;11449:19;11446:201;;;11522:19;;;11516:26;-1:-1:-1;;11605:1:33;11601:14;;;11617:3;11597:24;11593:37;11589:42;11574:58;11559:74;;11446:201;-1:-1:-1;;;;;11693:1:33;11677:14;;;11673:22;11660:36;;-1:-1:-1;10615:1348:33:o","linkReferences":{}},"methodIdentifiers":{"boxVerifier()":"16d599da","encryptedNotes(bytes32)":"14107a94","getNoteState(bytes32)":"83091c37","isNullifierUsed(bytes32)":"22dc7b4c","notes(bytes32)":"85de26b7","nullifiers(bytes32)":"2997e86b","openBox(uint256[2],uint256[2][2],uint256[2],bytes32,bytes32,uint256,uint256,bytes32,bytes)":"368ac949","registerBox(bytes32,uint256,bytes)":"3155003e","registeredBoxes(uint256)":"987631cf"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_boxVerifier\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"boxCommitment\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"outcomeCommitment\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"nullifier\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"vrfOutput\",\"type\":\"uint256\"}],\"name\":\"BoxOpened\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"boxId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"noteHash\",\"type\":\"bytes32\"}],\"name\":\"BoxRegistered\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"noteHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"encryptedNote\",\"type\":\"bytes\"}],\"name\":\"NoteCreated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"noteHash\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"nullifier\",\"type\":\"bytes32\"}],\"name\":\"NoteSpent\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"boxVerifier\",\"outputs\":[{\"internalType\":\"contract ILootBoxVerifier\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"encryptedNotes\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"noteHash\",\"type\":\"bytes32\"}],\"name\":\"getNoteState\",\"outputs\":[{\"internalType\":\"enum NFTNoteBase.NoteState\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"nullifier\",\"type\":\"bytes32\"}],\"name\":\"isNullifierUsed\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"notes\",\"outputs\":[{\"internalType\":\"enum NFTNoteBase.NoteState\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"nullifiers\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256[2]\",\"name\":\"a\",\"type\":\"uint256[2]\"},{\"internalType\":\"uint256[2][2]\",\"name\":\"b\",\"type\":\"uint256[2][2]\"},{\"internalType\":\"uint256[2]\",\"name\":\"c\",\"type\":\"uint256[2]\"},{\"internalType\":\"bytes32\",\"name\":\"boxCommitment\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"outcomeCommitment\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"vrfOutput\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"boxId\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"nullifier\",\"type\":\"bytes32\"},{\"internalType\":\"bytes\",\"name\":\"encryptedNote\",\"type\":\"bytes\"}],\"name\":\"openBox\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"noteHash\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"boxId\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"encryptedNote\",\"type\":\"bytes\"}],\"name\":\"registerBox\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"registeredBoxes\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"F4: Loot Box Open - Verifiable random loot box opening with provably      fair outcome generation using Poseidon-based VRF.      Box Note structure: Poseidon(pkX, pkY, boxId, boxType, boxSalt)      Outcome Note structure: Poseidon(pkX, pkY, itemId, itemRarity, itemSalt)\",\"kind\":\"dev\",\"methods\":{\"openBox(uint256[2],uint256[2][2],uint256[2],bytes32,bytes32,uint256,uint256,bytes32,bytes)\":{\"details\":\"Open a loot box using a ZK proof with Poseidon VRF randomness.      Spends the box note and creates an outcome note.\"},\"registerBox(bytes32,uint256,bytes)\":{\"details\":\"Register a sealed loot box into the private system.\"}},\"title\":\"LootBoxOpen\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/LootBoxOpen.sol\":\"LootBoxOpen\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"contracts/LootBoxOpen.sol\":{\"keccak256\":\"0x8760d67ce6be4f396755843eb45284b57b186f27f518e7f7242df47d5c6adc90\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3f5c94bc69fc6992adb9ee389f4f16915f261e52ef9266cd8ce0ad508c353fdb\",\"dweb:/ipfs/QmXQgrwwKRtZPfW2S4KQHtCpqY1TcYdKqgiUD11FBNLNKB\"]},\"contracts/NFTNoteBase.sol\":{\"keccak256\":\"0x07de848506797fef1da7cf343a6a82ff488a9a19faa74c973144177f6d8586ba\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://2294154d798b22d36155eeed4ad12fa6291de25261b1350583bbfdced829d963\",\"dweb:/ipfs/QmUD5rvHg1gX8MjoCQdTBcWJGSEZbThhGHSeB3db9UGtk7\"]},\"contracts/verifiers/IGroth16Verifier.sol\":{\"keccak256\":\"0xe18982f86dfa92e481473ceccf712ea3113bfd2b941aee2d74ba8cd559f5b720\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://19a1085c9bf4c73aab206dcd44e3382ecbd6cf4099c8dcbadc87ba0c0e158805\",\"dweb:/ipfs/QmTqFgW7RdZCFYz3dfEXArTqGrdfZ7bjyEBxCBZ36SJ8Ba\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.20+commit.a1b79de6"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_boxVerifier","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"bytes32","name":"boxCommitment","type":"bytes32","indexed":true},{"internalType":"bytes32","name":"outcomeCommitment","type":"bytes32","indexed":true},{"internalType":"bytes32","name":"nullifier","type":"bytes32","indexed":false},{"internalType":"uint256","name":"vrfOutput","type":"uint256","indexed":false}],"type":"event","name":"BoxOpened","anonymous":false},{"inputs":[{"internalType":"uint256","name":"boxId","type":"uint256","indexed":true},{"internalType":"bytes32","name":"noteHash","type":"bytes32","indexed":false}],"type":"event","name":"BoxRegistered","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"noteHash","type":"bytes32","indexed":true},{"internalType":"bytes","name":"encryptedNote","type":"bytes","indexed":false}],"type":"event","name":"NoteCreated","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"noteHash","type":"bytes32","indexed":true},{"internalType":"bytes32","name":"nullifier","type":"bytes32","indexed":true}],"type":"event","name":"NoteSpent","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"boxVerifier","outputs":[{"internalType":"contract ILootBoxVerifier","name":"","type":"address"}]},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"encryptedNotes","outputs":[{"internalType":"bytes","name":"","type":"bytes"}]},{"inputs":[{"internalType":"bytes32","name":"noteHash","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getNoteState","outputs":[{"internalType":"enum NFTNoteBase.NoteState","name":"","type":"uint8"}]},{"inputs":[{"internalType":"bytes32","name":"nullifier","type":"bytes32"}],"stateMutability":"view","type":"function","name":"isNullifierUsed","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"notes","outputs":[{"internalType":"enum NFTNoteBase.NoteState","name":"","type":"uint8"}]},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"nullifiers","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"uint256[2]","name":"a","type":"uint256[2]"},{"internalType":"uint256[2][2]","name":"b","type":"uint256[2][2]"},{"internalType":"uint256[2]","name":"c","type":"uint256[2]"},{"internalType":"bytes32","name":"boxCommitment","type":"bytes32"},{"internalType":"bytes32","name":"outcomeCommitment","type":"bytes32"},{"internalType":"uint256","name":"vrfOutput","type":"uint256"},{"internalType":"uint256","name":"boxId","type":"uint256"},{"internalType":"bytes32","name":"nullifier","type":"bytes32"},{"internalType":"bytes","name":"encryptedNote","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"openBox"},{"inputs":[{"internalType":"bytes32","name":"noteHash","type":"bytes32"},{"internalType":"uint256","name":"boxId","type":"uint256"},{"internalType":"bytes","name":"encryptedNote","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"registerBox"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"registeredBoxes","outputs":[{"internalType":"bool","name":"","type":"bool"}]}],"devdoc":{"kind":"dev","methods":{"openBox(uint256[2],uint256[2][2],uint256[2],bytes32,bytes32,uint256,uint256,bytes32,bytes)":{"details":"Open a loot box using a ZK proof with Poseidon VRF randomness.      Spends the box note and creates an outcome note."},"registerBox(bytes32,uint256,bytes)":{"details":"Register a sealed loot box into the private system."}},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/LootBoxOpen.sol":"LootBoxOpen"},"evmVersion":"paris","libraries":{}},"sources":{"contracts/LootBoxOpen.sol":{"keccak256":"0x8760d67ce6be4f396755843eb45284b57b186f27f518e7f7242df47d5c6adc90","urls":["bzz-raw://3f5c94bc69fc6992adb9ee389f4f16915f261e52ef9266cd8ce0ad508c353fdb","dweb:/ipfs/QmXQgrwwKRtZPfW2S4KQHtCpqY1TcYdKqgiUD11FBNLNKB"],"license":"MIT"},"contracts/NFTNoteBase.sol":{"keccak256":"0x07de848506797fef1da7cf343a6a82ff488a9a19faa74c973144177f6d8586ba","urls":["bzz-raw://2294154d798b22d36155eeed4ad12fa6291de25261b1350583bbfdced829d963","dweb:/ipfs/QmUD5rvHg1gX8MjoCQdTBcWJGSEZbThhGHSeB3db9UGtk7"],"license":"MIT"},"contracts/verifiers/IGroth16Verifier.sol":{"keccak256":"0xe18982f86dfa92e481473ceccf712ea3113bfd2b941aee2d74ba8cd559f5b720","urls":["bzz-raw://19a1085c9bf4c73aab206dcd44e3382ecbd6cf4099c8dcbadc87ba0c0e158805","dweb:/ipfs/QmTqFgW7RdZCFYz3dfEXArTqGrdfZ7bjyEBxCBZ36SJ8Ba"],"license":"MIT"}},"version":1},"id":1}