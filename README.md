# NFT Gaming ZK-DEX

ZK-SNARKs κΈ°λ°μ **κΈ°λ°€μ„± λ³΄μ¥ν• NFT κ²μ΄λ° DEX** ν”„λ΅μ νΈμ…λ‹λ‹¤. μ΄ μ‹μ¤ν…μ€ NFT μ†μ κ¶μ μ¦λ…κ³Ό μ „μ†΅ κ³Όμ •μ—μ„ κ°μΈμ •λ³΄λ¥Ό λ³΄νΈν•λ©°, μ¨μ²΄μΈ μƒμ ν”„λΌμ΄λ²„μ‹λ¥Ό κ°•ν™”ν• NFT κ±°λ λ° κ²μ„ μ•„μ΄ν… κµν™ ν™κ²½μ„ μ κ³µν•©λ‹λ‹¤.

## π€ ν”„λ΅μ νΈ κ°μ”

λ³Έ ν”„λ΅μ νΈλ” μμ§€μ‹ μ¦λ…(Zero-Knowledge Proofs)μ„ ν™μ©ν•μ—¬ μ „ν†µμ μΈ NFT μ „μ†΅ λ°©μ‹μ λ‹¨μ μΈ 'μ†μ κ¶ λ…Έμ¶' λ¬Έμ λ¥Ό ν•΄κ²°ν•©λ‹λ‹¤. μ‚¬μ©μλ” μμ‹ μ NFT μ†μ κ¶μ„ μ¦λ…ν•λ©΄μ„λ„, κµ¬μ²΄μ μΈ μμ‚° λ‚΄μ—­μ΄λ‚ κ±°λ κ²½λ΅λ¥Ό μ™Έλ¶€μ— λ“λ¬λ‚΄μ§€ μ•κ³  μ•μ „ν•κ² μ „μ†΅ν•  μ μμµλ‹λ‹¤.

### ν•µμ‹¬ κΈ°λ¥ (F1: Private NFT Transfer)
- **λΉ„κ³µκ° NFT μ „μ†΅**: UTXO μ¤νƒ€μΌμ 'λ…ΈνΈ(Note)' μ‹μ¤ν…μ„ ν™μ©ν•μ—¬ NFT μ†μ κ¶ μ΄μ „.
- **μ¨μ²΄μΈ κ²€μ¦**: Groth16 μ¦λ…μ„ ν†µν•΄ μ¨μ²΄μΈμ—μ„ μ „μ†΅μ μ ν¨μ„±μ„ μ¦‰μ‹ κ²€μ¦.
- **μ΄μ¤‘ μ§€λ¶ λ°©μ§€**: λ„λ¦¬νμ΄μ–΄(Nullifier) λ©”μ»¤λ‹μ¦μ„ μ μ©ν•μ—¬ λ™μΌ μμ‚°μ μ¤‘λ³µ μ‚¬μ© μ°¨λ‹¨.
- **λ°μ΄ν„° λ³΄μ•**: ECDH(Elliptic-Curve Diffie-Hellman) μ•”νΈν™”λ¥Ό ν†µν•΄ μμ‹ μλ§ μμ‹ μ μμ‚° λ°μ΄ν„°λ¥Ό λ³µνΈν™” κ°€λ¥.

---

## π›  κΈ°μ  μ¤νƒ

- **Smart Contracts**: `Solidity 0.8.20`, `Hardhat`
- **ZK Logic**: `Circom 2.1.0`, `SnarkJS`, `Groth16`
- **Hashing & Crypto**: `Poseidon Hash`, `BabyJubJub Curve`, `ECDH`
- **Frontend**: `React`, `TypeScript`, `Vite`, `Ethers.js`
- **Testing**: `Mocha`, `Chai`

---

## π“‚ ν”„λ΅μ νΈ κµ¬μ΅°

```text
.
β”β”€β”€ circuits/           # Circom μμ§€μ‹ νλ΅ (μ†μ κ¶ μ¦λ… λ° μ „μ†΅ λ΅μ§)
β”β”€β”€ contracts/          # μ΄λ”λ¦¬μ›€ μ¤λ§νΈ μ»¨νΈλ™νΈ (PrivateNFT, Verifiers)
β”β”€β”€ frontend/           # React κΈ°λ° ν”„λ΅ νΈμ—”λ“ λ€μ‹λ³΄λ“
β”β”€β”€ scripts/            # νλ΅ μ»΄νμΌ λ° λ°°ν¬ μλ™ν™” μ¤ν¬λ¦½νΈ
β””β”€β”€ test/               # νλ΅ λ‹¨μ„ ν…μ¤νΈ λ° ν†µν•© ν…μ¤νΈ
```

---

## β… ν…μ¤νΈ ν„ν™© (24/24 ν†µκ³Ό)

ν„μ¬ λ¨λ“  ν•µμ‹¬ κΈ°λ¥μ— λ€ν• ν…μ¤νΈκ°€ μ™„λ£λμ–΄ μ•μ •μ„±μ„ ν™•λ³΄ν–μµλ‹λ‹¤.

### 1. νλ΅ λ‹¨μ„ ν…μ¤νΈ (11κ°)
- μ ν¨ν• μ¦λ… μƒμ„± λ° κ²€μ¦ ν†µκ³Ό
- μλ»λ Secret Key, NFT ID, μ†κΈκ°’(Salt) λ“±μ— λ€ν• λ³€μ΅° μ‹λ„ μ°¨λ‹¨
- Public Signal λ³€μ΅° μ‹ κ²€μ¦ μ‹¤ν¨ ν™•μΈ

### 2. Hardhat ν†µν•© ν…μ¤νΈ (13κ°)
- NFT λ“±λ΅ λ° μ¤‘λ³µ λ“±λ΅ κ±°λ¶€
- μ‹¤μ  ZK μ¦λ…μ„ ν†µν• μ „μ†΅ λ° μ²΄μΈ μ „μ†΅(Aβ†’Bβ†’C) μ„±κ³µ
- **λ³΄μ• κ²€μ‚¬**: μ΄μ¤‘ μ§€λ¶(Same Nullifier), μ΄λ―Έ μ‚¬μ©λ λ…ΈνΈ, μ΅΄μ¬ν•μ§€ μ•λ” λ…ΈνΈ μ „μ†΅ μ‹λ„ μ°¨λ‹¨
- μ΄λ²¤νΈ(NFTRegistered, NFTTransferred) λ°μƒ μ—¬λ¶€ ν™•μΈ

---

## πƒ μ‹μ‘ν•κΈ°

### 1. μμ΅΄μ„± μ„¤μΉ
```bash
npm install
cd frontend && npm install
```

### 2. ZK νλ΅ μ»΄νμΌ
```bash
npm run compile:circuits
```

### 3. μ¤λ§νΈ μ»¨νΈλ™νΈ μ»΄νμΌ λ° ν…μ¤νΈ
```bash
npm run compile:contracts
npm test
```

### 4. λ΅μ»¬ ν™κ²½ μ‹¤ν–‰
```bash
# λ΅μ»¬ λ…Έλ“ μ‹¤ν–‰
npm run node:local
# μ»¨νΈλ™νΈ λ°°ν¬
npm run deploy:local
# ν”„λ΅ νΈμ—”λ“ μ‹¤ν–‰
npm run dev:frontend
```

---

## π›΅ μ£Όμ” λ³΄μ• λ΅μ§

- **Note Hash**: `Poseidon(pkX, pkY, nftId, collectionAddress, salt)` κµ¬μ΅°λ΅ μμ‚°μ„ μ‹λ³„ν•μ—¬ μ•”νΈν•™μ  κΈ°λ°€μ„± μ μ§€.
- **Zero-Knowledge Proof**: μ†΅μ‹ μμ Private Keyλ¥Ό κ³µκ°ν•μ§€ μ•κ³ λ„ ν•΄λ‹Ή μμ‚°μ μ •λ‹Ήν• μ†μ μμ„μ„ μν•™μ μΌλ΅ μ¦λ….
- **Nullifier**: `ComputeNullifier(itemId, salt, sk)`λ¥Ό ν†µν•΄ κ° μ „μ†΅λ§λ‹¤ μ λ‹ν¬ν• κ°’μ„ μƒμ„±, μ¨μ²΄μΈμ—μ„ κΈ°λ΅ν•μ—¬ μ¬μ‚¬μ© κ³µκ²©(Replay Attack) λ°©μ§€.
